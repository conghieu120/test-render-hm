function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/platform-choose-DEYSeRpL.js","assets/index-rD5D3wIe.js","assets/commonjsHelpers-BosuxZz1.js","assets/index-Bl7IvSfF.css","assets/defaultConfigConst-BgLGTCQf.js","assets/index.es-DrWMWpZZ.js","assets/style-ISyv3lne.js","assets/styled-components.browser.esm-Cc1hOk3M.js","assets/useQuery-DGelT77v.js","assets/utils-Dji2qSVF.js","assets/userSettingService-Bg9YvoAZ.js","assets/queryKey.const-4yptRpGc.js","assets/fontService-BFHGJrPs.js","assets/theme-CwYL3eQV.js","assets/useTranslation-CdVDZguR.js","assets/index-D0qsI2Ko.js","assets/collapse-C1MjllT7.js","assets/row-D9yJnvb0.js","assets/responsiveObserver-CoLEQsUO.js","assets/index-BUNugdcr.js","assets/index-VaFpLiuL.js","assets/index-Cw8dqNCZ.js","assets/Overflow-wzPxOxK8.js","assets/PurePanel-CzAY4fQy.js","assets/TextArea-D8GM8mUo.js","assets/CheckOutlined-CxcD5R4P.js","assets/DownOutlined-U_yyBD4s.js","assets/SearchOutlined-DPpNmpde.js","assets/index-WqkPP-4X.js","assets/index-mKYXhaNR.js","assets/index-DeZc1mMx.js","assets/index.esm-By9H6xJu.js","assets/index.esm-BmOWQ9Wu.js","assets/index-Rll6gE4e.js","assets/index-c2ufQ9kY.js","assets/index-R7zUTNyO.js","assets/EyeOutlined-D2K23cwb.js","assets/index-xGgAmkO7.js","assets/index-CB5DSHcv.js","assets/index.esm-oalvffsi.js","assets/index-KwqCHwvs.js","assets/index-Cnfr_LhE.js","assets/index-DduQbOjH.js","assets/index-DxAHe7sQ.js","assets/index.esm-pljYh1ir.js","assets/index-BqcLO0q9.js","assets/index-DEeuvegC.js","assets/gapSize-U1swVQyS.js","assets/folderService-DJTjQCA7.js","assets/statusService-EwMmqDzr.js","assets/index-L4GiCksr.js","assets/index-CSQtsVGg.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{H as D,aE as C,k as e,g2 as L,ar as P,r as f,g3 as B,U as re,g4 as S,q as le,g5 as ie,af as ce,N as de,ab as A,g6 as ue,ap as G,cc as me,cd as xe}from"./index-rD5D3wIe.js";import{S as E}from"./index-mKYXhaNR.js";import{u as F}from"./useTranslation-CdVDZguR.js";import{S as V}from"./index-Cw8dqNCZ.js";import{S as K,a as pe,b as _,c as he,d as Q}from"./style-ISyv3lne.js";import{e as J,o as ge}from"./index.esm-By9H6xJu.js";import{e as U}from"./index.esm-BmOWQ9Wu.js";import{R as M}from"./index-Rll6gE4e.js";import{I as T}from"./index-R7zUTNyO.js";import{S as be}from"./index-xGgAmkO7.js";import{T as k}from"./index-WqkPP-4X.js";import{S as je}from"./index-CB5DSHcv.js";import{u as Z}from"./theme-CwYL3eQV.js";import{B as H}from"./index-Cnfr_LhE.js";import{M as fe}from"./index-DduQbOjH.js";import{H as ee}from"./index-DxAHe7sQ.js";import{B as Y,b as X}from"./defaultConfigConst-BgLGTCQf.js";import{u as W}from"./useQuery-DGelT77v.js";import{g as te}from"./userSettingService-Bg9YvoAZ.js";import{Q as O}from"./queryKey.const-4yptRpGc.js";import{R as $,C as N}from"./row-D9yJnvb0.js";import{F as y}from"./index-D0qsI2Ko.js";import{s as ve}from"./index-BqcLO0q9.js";import{S as ye}from"./index-DEeuvegC.js";import{g as we}from"./folderService-DJTjQCA7.js";import{g as Se}from"./statusService-EwMmqDzr.js";import{T as Fe}from"./index-L4GiCksr.js";function Be({item:c}){const{t:i}=F(),o=D(),s=C(n=>n.newProfile),t=n=>{const u={...s.timezone,value:n};o(P({key:"timezone",value:u}))},r=()=>{const n=s.timezone.base===L.base.true,u={...s.timezone,base:n?L.base.false:L.base.true};o(P({key:"timezone",value:u}))};return e.jsxs(e.Fragment,{children:[e.jsx(q,{label:c.label,type:s.timezone.base==L.base.true?"Auto":"Set manually"}),e.jsx("div",{style:{marginBottom:"20px"},children:e.jsx(E,{label:i("Fill timezone based on the IP"),checked:s.timezone.base==L.base.true,onChange:r})}),s.timezone.base===L.base.false&&e.jsx("div",{style:{marginBottom:"20px"},children:e.jsx(V,{showSearch:!0,style:{width:"100%"},options:L.data,onChange:t,value:s.timezone.value})})]})}const Te={0:"0",10:"10",20:"20",30:"30",40:"40",50:"50",60:"60",70:"70",80:"80",90:"90",100:"100"};function R(c,i,o){return i.map((s,t)=>{c[s]=o[t]}),c}function Ce({item:c}){var w;const{Text:i}=k,{t:o}=F(),s=D(),[t,r]=f.useState({isShow:!1,data:{address:{},geometry:{lat:"",lng:""}}}),n=C(g=>g.newProfile);let u=n.geolocation.behavior,v=n.geolocation.lat,x=n.geolocation.long,d=n.geolocation.base;n.geolocation.accuracy;const a=({target:{value:g}})=>{s(P({key:"geolocation",value:R({...n.geolocation},["behavior"],[g])}))},l=g=>{s(P({key:"geolocation",value:R({...n.geolocation},["base"],[g?B.base.true:B.base.false])}))},p=g=>{s(P({key:"geolocation",value:R({...n.geolocation},["lat"],[g.target.value])})),r({...t,isShow:!1}),b(n.geolocation.lat,n.geolocation.long)},m=g=>{s(P({key:"geolocation",value:R({...n.geolocation},["long"],[g.target.value])})),r({...t,isShow:!1}),b(n.geolocation.lat,n.geolocation.long)},h=g=>{s(P({key:"geolocation",value:R({...n.geolocation},["accuracy"],[g])}))},b=async(g,z)=>{if(!g||!z)return;const se=`https://api.opencagedata.com/geocode/v1/json?q=${g}+${z}&key=03c48dae07364cabb7f121d8c1519492&no_annotations=1`,{data:oe}=await re.get(se),[{geometry:ne,formatted:ae}]=oe.results;r({...t,isShow:!0,data:{geometry:ne,address:ae}})};f.useEffect(()=>{b(v,x)},[n.geolocation.lat,n.geolocation.long]);const j=()=>{s(P({key:"geolocation",value:R({...n.geolocation},["lat","long"],[t.data.geometry.lat,t.data.geometry.lng])}))},I=u==B.behavior.prompt&&n.geolocation.base==B.base.true?"Auto":u;return e.jsxs(e.Fragment,{children:[e.jsx(K,{}),e.jsx(q,{label:c.label,type:I}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx(M.Group,{options:B.option.map(g=>({...g,label:o(g.label)})),onChange:a,value:n.geolocation.behavior,optionType:"button",style:{marginBottom:20}}),u==B.behavior.prompt?e.jsxs("div",{style:{display:"flex",alignItems:"center",backgroundColor:"#E4EFFF",padding:"6px 8px",gap:"5px"},children:[e.jsx("span",{className:"sub-text-icon text-[#417AFF] text-[20px]",children:e.jsx(J,{})}),e.jsx(i,{style:{fontSize:"12px",color:"#000"},children:o("Geolocation text prompt")})]}):"",u==B.behavior.allow?e.jsxs("div",{style:{display:"flex",alignItems:"center",backgroundColor:"#E4EFFF",padding:"6px 8px",gap:"5px"},children:[e.jsx("span",{className:"sub-text-icon text-[#E0822D] text-[20px]",children:e.jsx(U,{})}),e.jsx(i,{style:{fontSize:"12px",color:"#000"},children:o("Geolocation text allow")})]}):"",u==B.behavior.block?e.jsxs("div",{style:{display:"flex",alignItems:"center",backgroundColor:"#E4EFFF",padding:"6px 8px",gap:"5px"},children:[e.jsx("span",{className:"sub-text-icon text-[#E0822D] text-[20px]",children:e.jsx(U,{})}),e.jsx(i,{style:{fontSize:"12px",color:"#000"},children:o("Geolocation text block")})]}):""]}),e.jsx("div",{style:{marginBottom:"20px"},children:e.jsx(E,{label:o("Fill geolocation based on IP"),checked:n.geolocation.base==B.base.true,onChange:g=>l(g)})}),(u==B.behavior.prompt||u==B.behavior.allow)&&d==B.base.false?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{marginTop:"20px"},children:[e.jsx("div",{style:{paddingBottom:".5rem"},children:e.jsx(i,{strong:!0,children:o("Latitude")})}),e.jsx("div",{style:{marginBottom:"20px"},children:e.jsx(T,{value:n.geolocation.lat,onChange:g=>p(g)})})]}),e.jsxs("div",{children:[e.jsx("div",{style:{paddingBottom:".5rem"},children:e.jsx(i,{strong:!0,children:o("Longitude")})}),e.jsx("div",{style:{marginBottom:"20px"},children:e.jsx(T,{value:n.geolocation.long,onChange:g=>m(g)})})]}),e.jsxs("div",{children:[e.jsx(i,{strong:!0,children:`${o("Accuracy")}: ${n.geolocation.accuracy} ${o("Meters")}`}),e.jsx("div",{style:{marginBottom:"20px",marginLeft:"6px"},children:e.jsx(be,{marks:Te,step:10,value:n.geolocation.accuracy,onChange:g=>h(g)})})]}),t.isShow&&t.data&&e.jsx(pe,{children:e.jsx(M,{style:{border:".333px solid #BFBFBF",borderRadius:"5.999px",padding:"10px 5px",width:"100%"},onClick:j,children:`${(w=t.data)==null?void 0:w.address}(${t.data.geometry.lat} - ${t.data.geometry.lng})`})})]}):null]})}function Ie({item:c,valueChange:i}){const{Text:o}=k,{t:s}=F(),t=C(h=>h.newProfile.webRTC);let r=t.behavior,n=t.ipPublic,u=t.base,v=t.ipLocal;const x=({target:{value:h}})=>{i("webRTC",p({...t},["behavior"],[h]))},d=h=>{i("webRTC",p({...t},["ipPublic"],[h.target.value]))},a=h=>{i("webRTC",p({...t},["ipLocal"],[h.target.value]))},l=()=>{i("webRTC",p({...t},["base"],[u!==S.base.true?S.base.true:S.base.false]))},p=(h,b,j)=>(b.map((I,w)=>{h[I]=j[w]}),h),m=t.base===S.base.true&&r===S.behavior.altered?"Auto":r===S.behavior.altered?"Altered":r===S.behavior.authentic?"Authentic":r;return e.jsxs(e.Fragment,{children:[e.jsx(K,{}),e.jsx("div",{children:e.jsx(q,{label:c.label,type:m})}),e.jsxs("div",{children:[e.jsx(M.Group,{options:S.options.map(h=>({...h,label:s(h.label)})),onChange:x,value:r,optionType:"button",style:{marginBottom:20}}),r==S.behavior.altered?e.jsxs("div",{style:{display:"flex",alignItems:"center",backgroundColor:"#E4EFFF",padding:"6px 8px",gap:"5px"},children:[e.jsx("span",{className:"sub-text-icon text-[#417AFF] text-[20px]",children:e.jsx(J,{})}),e.jsx(o,{style:{fontSize:"12px",color:"#000"},children:s("WebRTCBehavior altered")})]}):"",r==S.behavior.disable?e.jsxs("div",{style:{display:"flex",alignItems:"center",backgroundColor:"#E4EFFF",padding:"6px 8px",gap:"5px"},children:[e.jsx("span",{className:"sub-text-icon text-[#E0822D] text-[20px]",children:e.jsx(U,{})}),e.jsx(o,{style:{fontSize:"12px",color:"#000"},children:s("WebRTCBehavior disable")})]}):"",r==S.behavior.authentic?e.jsxs("div",{style:{display:"flex",alignItems:"center",backgroundColor:"#E4EFFF",padding:"6px 8px",gap:"5px"},children:[e.jsx("span",{className:"sub-text-icon text-[#E0822D] text-[20px]",children:e.jsx(U,{})}),e.jsx(o,{style:{fontSize:"12px",color:"#000"},children:s("WebRTCBehavior read")})]}):""]}),r==S.behavior.altered?e.jsx("div",{style:{marginTop:"20px"},children:e.jsx(E,{checked:u==S.base.true,label:s("Fill WebRTC Public IP based on the IP"),onChange:l})}):null,u==S.base.false&&r==S.behavior.altered?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{marginTop:"20px"},children:[e.jsx("div",{style:{paddingBottom:".5rem"},children:e.jsx(o,{strong:!0,children:s("Public IP")})}),e.jsx(T,{value:n||"",onChange:h=>d(h)})]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("div",{style:{paddingBottom:".5rem"},children:e.jsx(o,{strong:!0,children:s("Local IP")})}),e.jsx(T,{value:v||"",onChange:h=>a(h)})]})]}):null]})}function Pe({openModal:c,onClose:i,valueChange:o}){const[s]=F(),{Text:t,Title:r}=k,{message:n}=le.useApp(),u=C(j=>j.newProfile.languages),[v,x]=f.useState([]),[d,a]=f.useState(""),l=ie,p=Z();f.useEffect(()=>{if(!u)return;const j=m(u);a(u),x(j)},[u]);const m=j=>{let I=[];return j.split(",").map(w=>{let g=w.split(";");I.push(g[0])}),I},h=j=>{x(j),l.forEach(w=>{j.length<=1?w.disabled=j.includes(w.value):w.disabled=!1});const I=j.map((w,g)=>`${w.value}${g>=1?";p="+(1-g*.1).toFixed(1):""}`).join(",");a(I)},b=()=>{if(!d.length){n.warning("Languages invalid!");return}o("languages",d),i()};return e.jsxs(fe,{open:c,onCancel:i,centered:!0,maskClosable:!1,title:e.jsx(r,{className:"!text-[20px]",style:{color:p.titlePrimary},children:s("Config language")}),footer:[e.jsx("div",{className:"flex justify-end",children:e.jsx(H,{type:"primary",onClick:b,label:s("Submit")},"submit")})],children:[e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx(T,{disabled:!0,value:d}),e.jsx("div",{className:"pt-2",children:v.length<10?e.jsx(t,{children:s("Up to 10 languages")}):e.jsx(t,{type:"danger",children:s("Exceed the limit of ten languages allowed.")})})]}),e.jsx(je,{value:v,style:{width:"100%"},options:l,maxCount:10,onChange:h})]})}function ke({item:c,valueChange:i}){const{t:o}=F(),[s,t]=f.useState(!1),r=C(n=>n.newProfile);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{marginTop:"20px"},children:[e.jsx(K,{}),e.jsx(q,{label:e.jsx(ee,{hint:o("Hidemium automatically detects and sets languages corresponding to the profile IP address."),children:e.jsx("div",{children:c.label})}),type:r.fillLanguagesBaseIp?"Auto":"Set manually"})]}),e.jsx("div",{style:{marginBottom:"20px"},children:e.jsx(E,{label:o("Fill languages"),onChange:()=>i("fillLanguagesBaseIp",!r.fillLanguagesBaseIp),checked:!!r.fillLanguagesBaseIp})}),e.jsx("div",{style:{marginTop:"20px"},children:e.jsx(_,{children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(T,{disabled:!0,style:{width:"100%"},value:r.languages}),e.jsx("div",{children:e.jsx(H,{type:"normal",label:void 0,disabled:r.fillLanguagesBaseIp,onClick:()=>t(!0),icon:e.jsx(ce,{})})})]})})}),s&&e.jsx(Pe,{openModal:s,onClose:()=>t(!1),valueChange:i})]})}function q({label:c,type:i}){const{Text:o}=k,{t:s}=F();return e.jsxs("div",{className:"flex pb-3",children:[e.jsx(o,{strong:!0,className:"w-[110px]",children:c}),e.jsx("div",{className:"mr-3 capitalize",style:{background:"#417AFF",color:"#FFFFFF",paddingLeft:"12px",paddingRight:"12px",borderRadius:"5px"},children:s(i)})]})}function Ee(){const{t:c}=F(),i=D(),[o]=f.useState([{label:c("Timezone"),component:Be,key:"Timezone"},{label:c("Geolocation"),component:Ce,key:"Geolocation"},{label:c("WebRTC"),component:Ie,key:"WebRTC"},{label:c("Languages"),component:ke,key:"Languages"}]),s=f.useCallback((t,r)=>{i(P({key:t,value:r}))},[i]);return e.jsx(e.Fragment,{children:o.map(t=>e.jsx(t.component,{item:t,valueChange:s},t.key))})}function Ne({label:c,active:i,value:o,onClick:s,icon:t,iconAnimation:r,...n}){const{Text:u}=k,[v,x]=f.useState(!1),d=Z();return e.jsx(de,{...n,icon:v?r:t,onMouseOver:()=>x(!0),onMouseOut:()=>x(!1),className:"flex items-center border-solid justify-center relative",onClick:()=>s(o),style:i.includes(o)?{borderColor:d.buttonBorderPrimay}:{},children:e.jsx(u,{className:"font-medium",children:c})})}function Le({options:c,multiple:i,value:o,onChange:s,onClick:t}){const[r,n]=f.useState([]);f.useEffect(()=>{o&&(A.isArray(o)?n(o):n([o]))},[o]);const u=x=>{if(!r)return;let d=A.cloneDeep(r);i?d.some(a=>a===x)?d=r.filter(a=>a!==x):d=[...r,x]:d=[x],n(d),s&&(A.isArray(o)?s(d):s(d[0]))},v=x=>{u(x),t&&t(x)};return e.jsx(e.Fragment,{children:e.jsx($,{gutter:[16,16],children:c.map(x=>e.jsx(N,{className:"gutter-row",span:4,children:e.jsx(Ne,{label:x.label,value:x.value,onClick:v,icon:x.icon,iconAnimation:x.iconAnimation,active:r})},x.label))})})}function Re({valueChange:c}){const{Text:i}=k,{t:o}=F(),[s]=y.useForm(),t=C(l=>l.newProfile),{data:r}=W({queryFn:()=>te(),queryKey:[O.userSetting]}),n=r==null?void 0:r.os,u=y.useWatch("browser",s),v=f.useMemo(()=>{if(!t.os||!n)return[];const l=n[t.os].browsers;if(Object.keys(l).length===0)return[];const p=Object.keys(l),m=Y.filter(b=>p==null?void 0:p.includes(b.value)),h=p==null?void 0:p.filter(b=>!Y.some(j=>j.value===b));if(h.length){const b=h.map(j=>({label:j,icon:e.jsx(X,{type:"BrowserIcon",width:20,height:20}),iconAnimation:e.jsx(X,{type:"BrowserIcon",width:20,height:20}),value:j}));return m.concat(b)}return m},[r,t.os]),x=f.useMemo(()=>{if(!t.os||!u||!n)return[];const l=n[t.os].browsers,p=l==null?void 0:l[u];if(!p)return[];const m=[];for(const b in p)m.push(p[b][0]);return m.map(b=>({label:b.version_name,value:b.version}))||[]},[t.os,u,r]),d=l=>{const p=n&&n[t.os].browsers[l],m=A.sample(p);return A.sample(m)},a=l=>{const p=s.getFieldValue("browserVersion");if(c("browser",l),s.setFieldValue("browser",l),!(n&&n[t.os].browsers[l][p])){const h=d(l);s.setFieldValue("browserVersion",h.version),c("browserVersion",h.version)}};return f.useEffect(()=>{s.setFieldValue("browser",t.browser)},[t.browser]),e.jsxs(y,{form:s,initialValues:{browser:t.browser,browserVersion:t.browserVersion},children:[e.jsxs(_,{children:[e.jsx("div",{style:{paddingBottom:".5rem"},children:e.jsx(i,{strong:!0,children:o("Browser")})}),e.jsx(he,{children:e.jsx(y.Item,{name:"browser",children:e.jsx(Le,{onChange:a,options:v})})})]}),u!=="safari"&&e.jsxs(_,{children:[e.jsx("div",{style:{paddingBottom:".5rem"},children:e.jsx(i,{strong:!0,children:o("Browser Version")})}),e.jsx(V,{style:{width:"100%"},options:x,onChange:l=>c("browserVersion",l),value:t.browserVersion})]})]})}function Ae({valueChange:c}){const{Text:i}=k,{t:o}=F(),{os:s,browser:t,autoFillUserAgent:r,osVersion:n,browserVersion:u,device:v,userAgent:x}=C(m=>m.newProfile),{data:d}=W({queryFn:()=>te(),queryKey:[O.userSetting]}),a=d==null?void 0:d.os;f.useEffect(()=>{var j;if(!s||!t||!r||!n||!u)return;let m=d==null?void 0:d.useragent.default;s.includes("android")?(m=d==null?void 0:d.useragent.android,m=m==null?void 0:m.replace("${device}",v)):s.includes("ios")&&(m=d==null?void 0:d.useragent.ios),m=m==null?void 0:m.replace("${osVersion}",n);const h=a&&a[s].browsers[t][u],b=m==null?void 0:m.split("AppleWebKit").shift();h&&(m=b==null?void 0:b.concat("",(j=h[0])==null?void 0:j.value)),t==="safari"&&m&&(m=l(m)),c("userAgent",m)},[s,t,r,n,u,v,a]);const l=m=>{var w,g;const h=a==null?void 0:a[s].value,b=((g=(w=a==null?void 0:a[s])==null?void 0:w.versions.find(z=>z.value===n))==null?void 0:g.label)||"",j=m==null?void 0:m.split("AppleWebKit").shift(),I=(h==null?void 0:h[b])??"";return j==null?void 0:j.concat(I)},p=async()=>{const h=await ue({os:s,browser_version:u,old_useragent:x}).catch(b=>ve.error(b));h&&c("userAgent",h)};return e.jsxs(e.Fragment,{children:[e.jsx(_,{children:e.jsx(E,{label:o("Auto Fill User Agent"),onChange:m=>c("autoFillUserAgent",m),checked:!!r})}),e.jsx("div",{style:{paddingBottom:".5rem"},children:e.jsx(i,{strong:!0,children:o("User Agent")})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(T,{disabled:r,value:x,onChange:m=>c("userAgent",m.target.value)}),e.jsx(H,{type:"warning",label:void 0,icon:e.jsx(ge,{}),onClick:p,disabled:r})]}),!r&&e.jsx("div",{className:"bg-[#F4BC0D] rounded mt-3 pl-2",children:e.jsx(i,{style:{color:"#183153"},children:o("If you do decide to configure User-Agent manually, make sure to set a corresponding platform value. Discrepancies in User-Agent and platform values are a big red flag.")})})]})}function Ve({valueChange:c}){const{t:i}=F(),{Text:o}=k,[s]=y.useForm(),{ports:t}=C(x=>x.newProfile),r=y.useWatch("portsToProtect",s),n=D(),u=(x,d)=>{const a={...t,[x]:d};c("ports",a)};f.useEffect(()=>{s.setFieldValue("portsToProtect",t.portsToProtect)},[t.portsToProtect]);const v=f.useCallback(x=>{if(!x||!isNaN(x))return!0;const d=x.split(",").map(a=>a.trim()).filter(a=>!!a);if(d.length){let a=!0;for(let l of d)if(isNaN(l)){a=!1;break}return a}},[]);return f.useEffect(()=>{r&&u("portsToProtect",r)},[r]),e.jsxs(y,{form:s,children:[e.jsx("div",{style:{marginTop:"20px",marginBottom:"20px"},children:e.jsx(E,{label:i("Port to Protect"),onChange:x=>u("isEnabled",x),checked:t.isEnabled})}),e.jsx("div",{style:{paddingBottom:".5rem"},children:e.jsx(o,{strong:!0,children:i("Port")})}),e.jsx(y.Item,{style:{width:"100%",marginBottom:0},validateFirst:!0,name:"portsToProtect",rules:[{message:"Invalid port",validator:(x,d)=>v(d)?(n(G(!1)),Promise.resolve()):(n(G(!0)),Promise.reject())}],children:e.jsx(T,{disabled:!t.isEnabled})})]})}const _e="_test_1wd7r_1",De={test:_e,"ant-modal-content":"_ant-modal-content_1wd7r_1","dns-label":"_dns-label_1wd7r_9"},ze=[{value:"custom",label:"Custom"},{value:"opendns",label:"OpenDns"},{value:"adguard",label:"AdGuard"},{value:"google",label:"Google (Public DNS)"},{value:"cloudflare",label:"Cloudflare (1.1.1.1)"}];function Ge({valueChange:c}){const{Text:i}=k,{t:o}=F(),[s]=y.useForm(),{dns:t,StartURL:r,maxTouchPoint:n,disableImage:u,restoreSession:v}=C(a=>a.newProfile),x=[{value:"automatic",label:o("With your current service provider. Secure DNS may not be available all the time")},{value:"secure",label:e.jsx("div",{className:De["dns-label"],children:o("With")})}],d=(a,l)=>{const p={...t,[a]:l};c("dns",p)};return f.useEffect(()=>{const a={StartUrl:r,maxTouchPoint:n,dnsValue:t.value};s.setFieldsValue(a)},[t,r,n,u,v]),e.jsxs(y,{form:s,children:[e.jsx("div",{style:{marginTop:"20px"}}),e.jsx("div",{children:e.jsxs($,{gutter:8,children:[e.jsxs(N,{span:12,children:[e.jsx("div",{style:{paddingBottom:".5rem"},children:e.jsx(i,{strong:!0,children:o("Start Url")})}),e.jsx(y.Item,{name:"StartUrl",validateFirst:!0,rules:[{max:500}],children:e.jsx(T,{placeholder:"https://ipscore.io/",onChange:a=>c("StartURL",a.target.value)})})]}),e.jsxs(N,{span:12,children:[e.jsx("div",{style:{paddingBottom:".5rem"},children:e.jsx(i,{strong:!0,children:o("Max Touch Points")})}),e.jsx(y.Item,{name:"maxTouchPoint",validateFirst:!0,rules:[{validator:(a,l)=>isNaN(l)?Promise.reject(o("Value must be a number")):Promise.resolve()}],children:e.jsx(T,{onChange:a=>c("maxTouchPoint",a.target.value)})})]})]})}),e.jsx("div",{style:{marginBottom:"20px"},children:e.jsxs($,{gutter:8,children:[e.jsx(N,{span:12,children:e.jsx(E,{label:o("Disable image"),checked:!!u,onChange:a=>c("disableImage",a)})}),e.jsx(N,{span:12,children:e.jsx(E,{label:o("Restore session"),checked:!!v,onChange:a=>c("restoreSession",a)})})]})}),e.jsxs("div",{className:"pb-3",children:[e.jsx("div",{style:{paddingBottom:".5rem"},children:e.jsx(ee,{hint:o("You can use a custom DNS server for this browser profile. This option works with SOCKS proxies, VPN, and direct connection only. It won't work with http(s) proxies."),children:e.jsx(i,{strong:!0,children:o("Use secure DNS")})})}),e.jsx("div",{style:{marginBottom:"20px"},children:e.jsx(E,{checked:t.isEnabled,onChange:a=>d("isEnabled",a),label:o("Determines how to connect to websites over a secure connection")})}),t.isEnabled&&e.jsxs(e.Fragment,{children:[e.jsx(M.Group,{options:x,style:{display:"flex",flexDirection:"column"},onChange:a=>d("withDNS",a.target.value),value:t.withDNS}),e.jsxs(ye,{children:[t.withDNS==="secure"&&e.jsx(V,{options:ze,style:{width:300,marginTop:10},onChange:a=>d("type",a),value:t.type}),t.type==="custom"&&t.withDNS==="secure"&&e.jsx(y.Item,{name:"dnsValue",noStyle:!0,rules:[{pattern:/^(https?|ftp):\/\/[^\s/$.?#].[^\s]*$/i,message:"Enter a correctly formatted URL"}],children:e.jsx(T,{style:{width:300,marginTop:10},placeholder:o("Enter custom provider"),onChange:a=>d("value",a.target.value)})})]})]})]})]})}const Ue="This field is required.",Me="Name profile must be less than 50 characters.",We=f.lazy(()=>me(()=>import("./platform-choose-DEYSeRpL.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51])));function Oe(){const{Text:c}=k,[i]=y.useForm(),o=D(),{t:s}=F(),t=C(l=>l.newProfile),{is_Local:r}=C(l=>l.display),n=[{value:"none",label:s("No status")},{value:-1,label:s("Ban")},{value:-2,label:s("Ready")},{value:-3,label:s("New")}],{data:u}=W({queryFn:()=>we(r),queryKey:[O.allFolders,r]}),{data:v}=W({queryFn:()=>Se(r),queryKey:[O.statusProfile,r]}),x=f.useMemo(()=>{if(!u)return[];const l=u.map(p=>({label:p.name,value:p.id}));return l.unshift({label:s("None"),value:-1}),l},[u]),d=f.useMemo(()=>{if(!v)return[];const l=v.map(p=>({label:p.name,value:p.id}));return[...n,...l]},[v]),a=f.useCallback((l,p)=>{o(P({key:l,value:p}))},[o]);return f.useEffect(()=>{async function l(){await i.validateFields().catch(()=>{o(G(!0))})&&o(G(!1))}l()},[t.profileName]),f.useLayoutEffect(()=>{const l={profileName:t.profileName,folderId:t.folderId,statusId:t.statusId};i.setFieldsValue(l)},[t]),e.jsxs(e.Fragment,{children:[e.jsx(y,{form:i,children:e.jsx(_,{children:e.jsxs($,{gutter:8,children:[e.jsxs(N,{span:12,children:[e.jsx("div",{style:{paddingBottom:"0.5rem"},children:e.jsx(c,{strong:!0,children:s("Name")})}),e.jsx(y.Item,{name:"profileName",rules:[{required:!0,message:Ue},{max:50,message:Me}],children:e.jsx(T,{placeholder:"Random Name",onChange:l=>{var p;return a("profileName",(p=l.target.value)==null?void 0:p.trim())}})})]}),e.jsxs(N,{span:6,children:[e.jsx("div",{style:{paddingBottom:"0.5rem"},children:e.jsx(c,{strong:!0,children:s("Folder")})}),e.jsx(Q,{children:e.jsx(y.Item,{name:"folderId",style:{marginBottom:"0"},children:e.jsx(V,{options:x,onChange:l=>a("folderId",l)})})})]}),e.jsxs(N,{span:6,children:[e.jsx("div",{style:{paddingBottom:"0.5rem"},children:e.jsx(c,{strong:!0,children:s("Status")})}),e.jsx(Q,{children:e.jsx(y.Item,{name:"statusId",style:{marginBottom:"0"},children:e.jsx(V,{options:d,onChange:l=>a("statusId",l)})})})]})]})})}),e.jsx(xe,{children:e.jsx(We,{valueChange:a})}),e.jsx(Re,{valueChange:a}),e.jsx(Ae,{valueChange:a}),e.jsx(Ve,{valueChange:a}),e.jsx(Ge,{valueChange:a})]})}function $e(){const{t:c}=F(),i=[{key:"main",label:c("Main"),children:e.jsx(Oe,{})},{key:"auto-fill",label:c("Location"),children:e.jsx(Ee,{})}];return e.jsx(e.Fragment,{children:e.jsx("div",{style:{padding:"20px 24px",marginTop:"16px"},children:e.jsx(Fe,{items:i,defaultActiveKey:"main"})})})}const vt=Object.freeze(Object.defineProperty({__proto__:null,default:$e},Symbol.toStringTag,{value:"Module"}));export{Le as G,vt as i};
