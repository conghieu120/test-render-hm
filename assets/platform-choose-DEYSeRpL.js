import{v as G,aE as I,r as y,k as o,ab as x,at as L,gz as M}from"./index-rD5D3wIe.js";import{P as K}from"./defaultConfigConst-BgLGTCQf.js";import{b as j,c as Q,e as _,d as g}from"./style-ISyv3lne.js";import{u as F}from"./useQuery-DGelT77v.js";import{g as z}from"./userSettingService-Bg9YvoAZ.js";import{Q as S}from"./queryKey.const-4yptRpGc.js";import{g as H}from"./fontService-BFHGJrPs.js";import{G as N}from"./index-DxpTI7V9.js";import{u as U}from"./theme-CwYL3eQV.js";import{u as W}from"./useTranslation-CdVDZguR.js";import{F as l}from"./index-D0qsI2Ko.js";import{S as B}from"./index-Cw8dqNCZ.js";import{T as C}from"./index-WqkPP-4X.js";import"./__commonjsHelpers__-BosuxZz1.js";import"./index.es-DrWMWpZZ.js";import"./styled-components.browser.esm-Cc1hOk3M.js";import"./utils-Dji2qSVF.js";import"./index-mKYXhaNR.js";import"./index-DeZc1mMx.js";import"./index.esm-By9H6xJu.js";import"./index.esm-BmOWQ9Wu.js";import"./index-Rll6gE4e.js";import"./index-c2ufQ9kY.js";import"./index-R7zUTNyO.js";import"./TextArea-D8GM8mUo.js";import"./index-VaFpLiuL.js";import"./EyeOutlined-D2K23cwb.js";import"./SearchOutlined-DPpNmpde.js";import"./index-xGgAmkO7.js";import"./index-BUNugdcr.js";import"./index-CB5DSHcv.js";import"./index.esm-oalvffsi.js";import"./index-KwqCHwvs.js";import"./index-Cnfr_LhE.js";import"./index-DduQbOjH.js";import"./PurePanel-CzAY4fQy.js";import"./index-DxAHe7sQ.js";import"./index.esm-pljYh1ir.js";import"./row-D9yJnvb0.js";import"./responsiveObserver-CoLEQsUO.js";import"./index-BqcLO0q9.js";import"./index-DEeuvegC.js";import"./gapSize-U1swVQyS.js";import"./folderService-DJTjQCA7.js";import"./statusService-EwMmqDzr.js";import"./index-L4GiCksr.js";import"./collapse-C1MjllT7.js";import"./Overflow-wzPxOxK8.js";import"./CheckOutlined-CxcD5R4P.js";import"./DownOutlined-U_yyBD4s.js";function Uo({valueChange:n}){const{t:m}=W(),{Text:a}=C,P=G(),[c]=l.useForm(),e=I(t=>t.newProfile);U();const{data:r}=F({queryFn:()=>z(),queryKey:[S.userSetting]}),{data:V}=F({queryFn:()=>H(),queryKey:[S.getAllFonts]}),i=r==null?void 0:r.os,w=r==null?void 0:r.webgl_params,u=r==null?void 0:r.screen,s=l.useWatch("os",c),O=y.useMemo(()=>!s||!i?[]:i[s].versions||[],[r,s]),T=async t=>{const h={os:t},p=Object.keys(i==null?void 0:i[t].browsers),R=p.find(d=>d===e.browser);let v=e.browser;R||(v=x.sample(p)||"chrome"),P(L({argsFingerPrint:h,fonts:V,osbVersion:i}));const f={browser:v,os:t};if(w){const d=w[t],b=x.sample(Object.keys(d))||"";f.webGLVendor=b;const k=d[b],q=x.sample(k);f.webGLMetadataRenderer=q}M({valueChange:n,newStates:f}),c.setFieldValue("os",t)},D=y.useMemo(()=>s?i&&i[s].devices:void 0,[s]),E=t=>{const h=t.toLowerCase();if(s=="ios"){const p=(u==null?void 0:u.ios[h])||"";n("resolution",p)}n("device",t)};return y.useEffect(()=>{const t={os:e.os,osVersion:e.osVersion,device:e.device};c.setFieldsValue(t)},[e]),o.jsxs(l,{form:c,children:[o.jsxs(j,{children:[o.jsx("div",{style:{paddingBottom:".5rem"},children:o.jsx(a,{strong:!0,children:m("Platform")})}),o.jsx(Q,{children:o.jsx(l.Item,{name:"os",children:o.jsx(N,{onClick:T,options:K})})}),o.jsx(_,{children:o.jsx(a,{style:{color:"#183153"},children:m("Please note: It is not recommended to choose a platform that does not match your original platform.")})})]}),o.jsxs(j,{children:[o.jsx("div",{style:{paddingBottom:".5rem"},children:o.jsx(a,{strong:!0,children:m("Platform Version")})}),o.jsx(g,{children:o.jsx(B,{style:{width:"100%"},options:O||[],onChange:t=>n("osVersion",t),value:e.osVersion})})]}),(s==="android"||s==="ios")&&o.jsxs(j,{children:[o.jsx("div",{style:{paddingBottom:".5rem"},children:o.jsx(a,{strong:!0,children:m("Device")})}),o.jsx(g,{children:o.jsx(B,{style:{width:"100%"},options:D||[],onChange:t=>E(t),value:e.device})})]})]})}export{Uo as default};
