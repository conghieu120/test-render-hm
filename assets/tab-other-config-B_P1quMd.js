import{r as C,A as te,h as re,H as q,aE as _,ar as A,k as e,gq as G,gr as D,ab as L,N as me,gs as ue,gt as Y,gu as O,gv as H,q as $,j as z,a2 as pe,l as xe,gw as he,gx as je,gy as ge,ap as X}from"./index-rD5D3wIe.js";import{b,S as Q,d as ie}from"./style-ISyv3lne.js";import{S as T}from"./index-mKYXhaNR.js";import{B as y}from"./index-Cnfr_LhE.js";import{u as k}from"./useTranslation-CdVDZguR.js";import{R as w,C as p}from"./row-D9yJnvb0.js";import{S as V}from"./index-Cw8dqNCZ.js";import{F as I}from"./index-C7QdTRRe.js";import{C as J}from"./index-C97G-hLo.js";import{S as le}from"./index-DEeuvegC.js";import{T as M}from"./index-WqkPP-4X.js";import{H as fe}from"./index-DxAHe7sQ.js";import{F as d}from"./index-D0qsI2Ko.js";import{T as be}from"./Table-CkCjhjFV.js";import{I as S}from"./index-R7zUTNyO.js";import{c as ye}from"./modalCreateProfile-C1awpAjQ.js";import{u as K}from"./useMutation-7pHNuXnK.js";import{u as Ce}from"./useQuery-DGelT77v.js";import{Q as B}from"./queryKey.const-4yptRpGc.js";import{D as ve}from"./DeleteConfirmModal-DSBDXsxU.js";import{M as W}from"./index-DduQbOjH.js";import{L as Z}from"./index-CZlFIf3S.js";import{U as we}from"./index-H7TxDH1o.js";import{C as Se}from"./index-CMmsTmU8.js";import{S as Ne}from"./index-DeZc1mMx.js";import{P as ke}from"./PlusOutlined-02efxpe5.js";import{T as Fe}from"./index-L4GiCksr.js";import"./commonjsHelpers__-BosuxZz1.js";import"./styled-components.browser.esm-Cc1hOk3M.js";import"./responsiveObserver-CoLEQsUO.js";import"./index-BUNugdcr.js";import"./index-VaFpLiuL.js";import"./Overflow-wzPxOxK8.js";import"./PurePanel-CzAY4fQy.js";import"./TextArea-D8GM8mUo.js";import"./CheckOutlined-CxcD5R4P.js";import"./DownOutlined-U_yyBD4s.js";import"./SearchOutlined-DPpNmpde.js";import"./gapSize-U1swVQyS.js";import"./index-c2ufQ9kY.js";import"./index.esm-pljYh1ir.js";import"./collapse-C1MjllT7.js";import"./addEventListener-Dnrwfmdl.js";import"./LeftOutlined-hwnj7f46.js";import"./Dropdown-BA274VvY.js";import"./extendsObject-BTpHJDoQ.js";import"./EllipsisOutlined-Cvv2ECO7.js";import"./index-Rll6gE4e.js";import"./Pagination-Du9klKsI.js";import"./EyeOutlined-D2K23cwb.js";import"./utils-Dji2qSVF.js";import"./index-bFDahTXa.js";import"./progress-kO2vXcYl.js";import"./Skeleton-B435kt64.js";import"./index-Phk2fyGs.js";var Ee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};const Re=Ee;var Ie=function(s,i){return C.createElement(te,re({},s,{ref:i,icon:Re}))},Me=C.forwardRef(Ie);const Pe=Me;var Ae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};const Te=Ae;var Ve=function(s,i){return C.createElement(te,re({},s,{ref:i,icon:Te}))},Ue=C.forwardRef(Ve);const De=Ue,ae="sslVersionMax",oe="sslVersionMin",Le=(t,s,i,r)=>t===oe&&Number(s)>Number(i)||t===ae&&Number(s)<Number(r);function Oe(){const{Text:t}=M,{t:s}=k(),i=q(),r=_(x=>x.newProfile),{sslFingerprintSettings:l}=r,{sslVersionMax:m,sslVersionMin:h,cipherSuites:c}=l,j=C.useCallback((x,v)=>{i(A({key:x,value:v}))},[]),n=(x,v)=>{const o={...l,[x]:v};j("sslFingerprintSettings",o)},u=(x,v)=>{if(Le(v,x,m,h)){const o={...l,sslVersionMin:+x,sslVersionMax:+x};j("sslFingerprintSettings",o)}else n(v,+x)},a=(x,v,o=!1)=>{const f=x.target.checked;if(o)n("cipherSuites",f?D:[]);else{const g=new Set(c);f?g.add(v):g.delete(v),n("cipherSuites",Array.from(g))}},F=()=>n("cipherSuites",D),R=()=>n("cipherSuites",ue);return e.jsxs(e.Fragment,{children:[e.jsx(b,{children:e.jsx(T,{label:s("Enable custom SSL Fingerprinting"),bold:!0,checked:l.isEnabled,onClick:x=>n("isEnabled",x)})}),e.jsx(b,{children:e.jsxs(w,{align:"middle",children:[e.jsx(p,{span:4,children:e.jsxs(t,{strong:!0,children:[s("SSL Version Min"),":"]})}),e.jsx(p,{span:20,children:e.jsx(V,{options:G,style:{width:"100%"},value:l.sslVersionMin,onChange:x=>u(x,oe)})})]})}),e.jsx(b,{children:e.jsxs(w,{align:"middle",children:[e.jsx(p,{span:4,children:e.jsxs(t,{strong:!0,children:[s("SSL Version Max"),":"]})}),e.jsx(p,{span:20,children:e.jsx(V,{options:G,value:l.sslVersionMax,style:{width:"100%"},onChange:x=>u(x,ae)})})]})}),e.jsx(b,{children:e.jsxs(w,{children:[e.jsx(p,{span:4,children:e.jsxs(t,{strong:!0,children:[s("Cipher Suites"),":"]})}),e.jsx(p,{span:20,children:e.jsx(t,{type:"danger",children:s("Warning: incorrect SSL settings can cause abnormal access to the HTTPS website")})})]})}),e.jsx(b,{children:e.jsx("div",{style:{border:"1px solid #D9D9D9",borderRadius:"3px",padding:"20px"},children:D.map(x=>e.jsx(I,{children:e.jsx(J,{style:{paddingBottom:"10px"},checked:L.includes(c,x),onClick:v=>a(v,x),children:x})},x))})}),e.jsx(b,{children:e.jsxs(I,{align:"center",justify:"space-between",children:[e.jsxs(le,{children:[e.jsx(J,{checked:D.length===(c==null?void 0:c.length),onClick:x=>a(x,null,!0),children:s("Select all")}),e.jsx(me,{type:"text",onClick:R,children:s("Chrome SSL")})]}),e.jsx(y,{onClick:F,type:"primary",label:s("Restore Default")})]})})]})}function Be(){var v;const[t]=d.useForm(),{t:s}=k(),i=q(),{plugins:r}=_(o=>o.newProfile),{Text:l}=M,m=d.useWatch("plugins",t),h=(o,f)=>{let g={...r,[o]:f};i(A({key:"plugins",value:g}))},c=[{title:s("Name"),dataIndex:"name"},{title:s("Describe"),dataIndex:"describe"},{title:s("File name"),dataIndex:"fileName"},{title:s("Mime type"),dataIndex:"mimeType"},{title:s("Mime describe"),dataIndex:"mimeDescription"},{title:s("Mime extension"),dataIndex:"mimeExtension"}],j={selectedRowKeys:(v=m||[])==null?void 0:v.filter(o=>o.isChecked).map(o=>o.id),onChange:(o,f)=>{const g=L.cloneDeep(m);g==null||g.forEach(N=>{N.isChecked=o.includes(N.id)}),t.setFieldValue("plugins",g),i(A({key:"plugins",value:{...r,value:g}}))},getCheckboxProps:o=>({disabled:o.isDisabled})},n=(o={})=>{const f={...o};return Object.keys(f).forEach(g=>{f[g]=o[g].trim()}),f},u=()=>{h("value",Y),t.setFieldValue("plugins",Y)},a=async()=>{const o=await O("word","sample"),f={key:o,id:o,name:o,describe:await O("word","sample"),fileName:await O("word","sample"),mimeType:"application/pdf|text/pdf",mimeDescription:"Portable Document Format|Portable Document Format",mimeExtension:"pdf|pdf",isChecked:!0,isDisabled:!1};f&&R(f,!0)},F=async()=>{const{name:o,mimeType:f,describe:g,mimeDescription:N,fileName:U,mimeExtension:E}=t.getFieldsValue(),de={name:o,mimeType:f,describe:g,mimeDescription:N,fileName:U,mimeExtension:E};if(!await t.validateFields().catch(()=>null))return;const P=n(de);P.name&&(P.id=P.name,P.key=P.name,R(P,!0),t.resetFields(["name","describe","fileName"]))},R=(o,f)=>{const g=[],N=new Map;m.forEach(E=>N.set(E.name,E)),N.set(o.name,o),N==null||N.forEach(E=>g.push(E)),t.setFieldValue("pluginIsEnable",!0);const U=L.cloneDeep(g);f&&U.forEach(E=>{E.isDisabled=!(f&&!E.isDefault),E.isChecked=!0}),t.setFieldValue("plugins",U),i(A({key:"plugins",value:{...r,value:U,isEnabled:!0}}))},x=o=>{const f=L.cloneDeep(m);for(const N of f)N.isDisabled=!(o&&!N.isDefault);t.setFieldValue("plugins",f);const g={...r,isEnabled:o,value:f};i(A({key:"plugins",value:g}))};return C.useEffect(()=>{const o={plugins:r.value,pluginIsEnable:r.isEnabled};t.setFieldsValue(o)},[r]),e.jsxs(d,{form:t,initialValues:{mimeType:"application/pdf|text/pdf",mimeDescription:"Portable Document Format|Portable Document Format",mimeExtension:"pdf|pdf"},children:[e.jsx(b,{children:e.jsx(l,{type:"danger",children:s("Note that plug-in camouflage can affect real plug-in functionality")})}),e.jsx(b,{children:e.jsx(d.Item,{name:"pluginIsEnable",valuePropName:"checked",children:e.jsx(T,{label:e.jsx(fe,{hint:s("By default, potentially vulnerable plugins (AdobePDF, Widevine, and Native Client) embedded with Chrome will be masked. Websites will see them as enabled but won't be able to actually utilize. Enabling this option will make them usable while exposing your browser to the potential risk of being fingerprinted."),children:e.jsx("div",{children:s("Enable custom plug-in information")})}),bold:!0,onChange:o=>{x(o)}})})}),e.jsx(b,{children:e.jsx(d.Item,{name:"plugins",children:e.jsx(be,{rowSelection:j,columns:c,dataSource:m,pagination:!1,scroll:{y:240}})})}),e.jsx(Q,{}),e.jsxs(b,{children:[e.jsx("div",{style:{marginBottom:20},children:e.jsxs(w,{gutter:16,children:[e.jsx(p,{span:12,children:e.jsxs(w,{align:"middle",children:[e.jsx(p,{span:8,children:e.jsxs(l,{strong:!0,children:[s("Plugin name"),":"]})}),e.jsx(p,{span:16,children:e.jsx(d.Item,{name:"name",rules:[{required:!0,message:""}],children:e.jsx(S,{})})})]})}),e.jsx(p,{span:12,children:e.jsxs(w,{align:"middle",children:[e.jsx(p,{span:8,children:e.jsxs(l,{strong:!0,children:[s("Mime types"),":"]})}),e.jsx(p,{span:16,children:e.jsx(d.Item,{name:"mimeType",children:e.jsx(S,{disabled:!0})})})]})})]})}),e.jsx("div",{style:{marginBottom:20},children:e.jsxs(w,{gutter:16,children:[e.jsx(p,{span:12,children:e.jsxs(w,{align:"middle",children:[e.jsx(p,{span:8,children:e.jsxs(l,{strong:!0,children:[s("Plugin Description"),":"]})}),e.jsx(p,{span:16,children:e.jsx(d.Item,{name:"describe",rules:[{required:!0,message:""}],children:e.jsx(S,{})})})]})}),e.jsx(p,{span:12,children:e.jsxs(w,{align:"middle",children:[e.jsx(p,{span:8,children:e.jsxs(l,{strong:!0,children:[s("Mine Description"),":"]})}),e.jsx(p,{span:16,children:e.jsx(d.Item,{name:"mimeDescription",children:e.jsx(S,{disabled:!0})})})]})})]})}),e.jsx("div",{style:{marginBottom:20},children:e.jsxs(w,{gutter:16,children:[e.jsx(p,{span:12,children:e.jsxs(w,{align:"middle",children:[e.jsx(p,{span:8,children:e.jsxs(l,{strong:!0,children:[s("File name"),":"]})}),e.jsx(p,{span:16,children:e.jsx(d.Item,{name:"fileName",rules:[{required:!0,message:""}],children:e.jsx(S,{})})})]})}),e.jsx(p,{span:12,children:e.jsxs(w,{align:"middle",children:[e.jsx(p,{span:8,children:e.jsxs(l,{strong:!0,children:[s("Mime extension"),":"]})}),e.jsx(p,{span:16,children:e.jsx(d.Item,{name:"mimeExtension",children:e.jsx(S,{disabled:!0})})})]})})]})})]}),e.jsx(b,{children:e.jsxs(I,{gap:8,justify:"end",children:[e.jsx(y,{type:"primary",onClick:a,label:s("Add Random Plugin")}),e.jsx(y,{type:"primary",onClick:u,label:s("Restore default")}),e.jsx(y,{type:"primary",onClick:F,label:s("Add plugin")})]})})]})}const qe=async()=>{const{data:t}=await H.get("/v4/file");return t},ce=async({file:t,file_content:s})=>{const i=new FormData;t?i.append("file_script",t):s&&i.append("file_content",s);const{data:r}=await H.post("/v4/file/upload",i);return r},_e=async t=>{const{data:s}=await H.post(`/v4/file/${t}/delete`);return s};function $e({setUrl:t}){const[s]=k(),{message:i}=$.useApp(),[r,l]=C.useState(!1),m=z(),{data:h,isFetching:c}=Ce({queryFn:qe,queryKey:[B.listUrlConfigRedirect]}),{isLoading:j,mutate:n}=K({mutationFn:a=>_e(a),onSuccess:a=>{i.success(a.title||"Delete file successfully!"),m.invalidateQueries(B.listUrlConfigRedirect)},onError:a=>{var F,R;i.error(((R=(F=a==null?void 0:a.response)==null?void 0:F.data)==null?void 0:R.title)||"Delete file error!")}}),u=async a=>{const{isConfirmed:F}=await ve();F&&n(a)};return e.jsxs(e.Fragment,{children:[e.jsx(y,{label:s("Select URL"),type:"normal",onClick:()=>l(!0)}),e.jsx(W,{open:r,onCancel:()=>l(!1),centered:!0,footer:null,width:800,title:s("Choose my URL"),zIndex:999,children:e.jsx("div",{className:"max-h-[50vh] overflow-auto",children:e.jsx(Z,{loading:c||j,size:"small",bordered:!0,dataSource:(h==null?void 0:h.content)||[],renderItem:a=>e.jsx(Z.Item,{children:e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsx("span",{children:a.url}),e.jsxs(le,{children:[e.jsx(y,{onClick:()=>{t(a.url),l(!1)},type:"primary",label:s("Choose")}),e.jsx(y,{type:"error",onClick:()=>u(a.id),label:s("Delete")})]})]})})})})})]})}const He=C.memo($e);function ze({setUrl:t}){const[s]=k(),[i]=d.useForm(),[r,l]=C.useState(!1),m=z(),{message:h}=$.useApp(),{isLoading:c,mutate:j}=K({mutationFn:({file_content:n})=>(console.log({file_content:n}),ce({file_content:n})),onSuccess:n=>{var u;t((u=n==null?void 0:n.content)==null?void 0:u.url),m.invalidateQueries(B.listUrlConfigRedirect),h.success(n.title||"Upload content successfully!")},onError:n=>{var u,a;h.error(((a=(u=n.response)==null?void 0:u.data)==null?void 0:a.title)||"Upload content error!")}});return C.useEffect(()=>{i.resetFields()},[r]),e.jsxs(e.Fragment,{children:[e.jsx(y,{label:s("Upload Content"),type:"normal",onClick:()=>l(!0),loading:c}),e.jsx(W,{open:r,centered:!0,width:800,title:s("Upload my content"),footer:e.jsxs("div",{className:"flex justify-end gap-x-2",children:[e.jsx(y,{onClick:()=>l(!1),type:"error",label:s("Cancel")}),e.jsx(y,{onClick:i.submit,type:"normal",label:s("Save")})]}),children:e.jsx(d,{form:i,onFinish:n=>{j(n),l(!1)},children:e.jsx(d.Item,{name:"file_content",rules:[{message:"Content is required!",required:!0}],children:e.jsx(S.TextArea,{disabled:c,rows:20})})})})]})}const Qe=C.memo(ze);function Ke({setUrl:t}){const{message:s}=$.useApp(),[i]=k(),r=z(),{isLoading:l,mutate:m}=K({mutationFn:c=>ce({file:c}),onSuccess:c=>{var j;t((j=c==null?void 0:c.content)==null?void 0:j.url),r.invalidateQueries(B.listUrlConfigRedirect),s.success(c.title||"Upload file successfully!")},onError:c=>{var j,n;s.error(((n=(j=c.response)==null?void 0:j.data)==null?void 0:n.title)||"Upload file error!")}}),h={beforeUpload:c=>(m(c),!1),accept:".js, .json, .txt",showUploadList:!1};return e.jsx(e.Fragment,{children:e.jsx(we,{...h,children:e.jsx(y,{disabled:l,icon:e.jsx(De,{}),loading:l,type:"normal",label:i("Select File")})})})}const We=C.memo(Ke),ee=[{label:"=",value:"!!"},{label:"Contains",value:"!"}],se={conditions:[{required:!0,message:"Conditions value is required"}],content:[{required:!0,message:"Content value is required"}]};function Ge({index:t,restField:s,remove:i,name:r,form:l}){const[m]=k(),{Text:h}=M,c=C.useRef({add:null,subFields:[]}),j=n=>{l.setFieldValue(["configRedirectUrl",r,"to"],n)};return e.jsxs(Se,{title:e.jsxs(I,{children:[e.jsx(h,{className:"mr-5",children:`Item ${t+1}`}),e.jsx(d.Item,{...s,name:[r,"status"],noStyle:!0,valuePropName:"checked",children:e.jsx(Ne,{})})]}),extra:e.jsx(y,{type:"error",onClick:()=>{i(r)},icon:e.jsx(ye,{}),label:m("Delete")}),children:[e.jsx(d.Item,{...s,name:[r,"name"],label:e.jsx(h,{strong:!0,children:m("Name")}),children:e.jsx(S,{placeholder:"Name"})}),e.jsx("div",{className:"mb-[24px]",children:e.jsxs(w,{children:[e.jsx(p,{span:6,className:"text-end",children:e.jsxs("div",{className:"inline-flex h-full items-center",children:[e.jsx(h,{strong:!0,children:m("From url")}),e.jsx("span",{className:"ms-[2px] me-2",children:":"})]})}),e.jsx(p,{span:18,children:e.jsxs("div",{className:"flex",children:[e.jsx(d.Item,{noStyle:!0,name:[r,"fromConditions"],rules:se.conditions,children:e.jsx(V,{className:"min-w-[100px] me-[22px]",options:ee,placeholder:"Choose"})}),e.jsx(d.Item,{...s,name:[r,"from"],noStyle:!0,children:e.jsx(S,{placeholder:"From url"})}),e.jsx(Pe,{className:"ms-[22px] me-1 text-[18px] text-[var(--color-yellow-200)]",onClick:()=>{c.current.add&&c.current.subFields.length<5&&c.current.add({operator:"!"})}})]})})]})}),e.jsxs(w,{children:[e.jsx(p,{span:6}),e.jsx(p,{span:18,children:e.jsx(d.Item,{noStyle:!0,children:e.jsx(d.List,{name:[r,"query"],children:(n,u)=>(c.current={subFields:n,...u},e.jsx(e.Fragment,{children:n.map(a=>e.jsxs(I,{className:"flex align-center mb-[24px]",children:[e.jsx(d.Item,{noStyle:!0,name:[a.name,"operator"],rules:se.conditions,children:e.jsx(V,{className:"me-[22px] min-w-[100px]",options:ee,placeholder:"Choose"})}),e.jsx(d.Item,{noStyle:!0,name:[a.name,"content"],children:e.jsx(S,{placeholder:"From url"})}),e.jsx(pe,{className:"ms-[22px] me-1 text-[18px] text-[var(--color-red-400)]",onClick:()=>{u.remove(a.name)}})]},a.key))}))})})})]}),e.jsx(d.Item,{...s,name:[r,"to"],label:e.jsx(h,{strong:!0,children:m("Redirect to url")}),className:"mb-2",children:e.jsx(S,{placeholder:"Redirect to url"})}),e.jsx("div",{className:"text-end",children:e.jsxs("div",{className:"flex justify-between w-[364px] ml-auto mr-0",children:[e.jsx(He,{setUrl:j}),e.jsx(Qe,{setUrl:j}),e.jsx(We,{setUrl:j})]})})]})}function Ye({isOpen:t,onClose:s,valueChange:i}){const[r]=k(),{Title:l}=M,m=_(n=>n.newProfile),[h]=d.useForm(),{message:c}=$.useApp(),j=async()=>{const n=await h.validateFields().catch(u=>{c.error("Conditions value is required!!!")});n&&(i("configRedirectUrl",n.configRedirectUrl),s())};return e.jsx(xe,{theme:{components:{Switch:{colorPrimary:"var(--color-blue-500)",colorPrimaryHover:"var(--color-blue-500)"}}},children:e.jsx(W,{open:t,onCancel:s,centered:!0,maskClosable:!1,onOk:j,zIndex:999,footer:()=>e.jsx("div",{className:"flex justify-end",children:e.jsx(y,{onClick:j,label:r("Submit"),type:"normal"})}),title:e.jsx(l,{level:3,className:"mt-0",children:r("Config redirect url")}),width:600,children:e.jsx(d,{name:"dynamic_form_nest_item",style:{maxHeight:410,overflowY:"auto",paddingRight:8,paddingLeft:8},form:h,labelCol:{span:6},wrapperCol:{span:18},initialValues:{configRedirectUrl:m.configRedirectUrl},children:e.jsx(d.List,{name:"configRedirectUrl",children:(n,{add:u,remove:a})=>e.jsxs("div",{style:{display:"flex",rowGap:16,flexDirection:"column"},children:[n.map(({key:F,name:R,...x},v)=>e.jsx(Ge,{index:v,remove:a,name:R,form:h,...x},F)),e.jsx(d.Item,{wrapperCol:{span:24},children:e.jsx(y,{type:"primary",onClick:()=>u({fromConditions:"!"}),icon:e.jsx(ke,{}),label:r("Add config")})})]})})})})})}function Xe({valueChange:t,profileData:s}){const[i]=k(),{Title:r,Paragraph:l}=M,[m,h]=C.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx(Q,{}),e.jsx(r,{level:3,children:i("Config redirect URL")}),e.jsxs(I,{justify:"space-between",className:"pb-3",children:[e.jsx(l,{children:i(`You have total ${s.configRedirectUrl.length||0} configs`)}),e.jsx(y,{type:"primary",onClick:()=>h(!0),label:i("Config"),solid:!0})]}),m&&e.jsx(Ye,{isOpen:m,valueChange:t,onClose:()=>h(!1)})]})}function Je({valueChange:t,profileData:s}){const[i]=k(),{Title:r,Text:l}=M;return e.jsxs(e.Fragment,{children:[e.jsx(Q,{}),e.jsx(r,{level:3,children:i("Experiments")}),e.jsxs(I,{justify:"space-between",align:"center",style:{marginBottom:20},children:[e.jsxs(I,{vertical:!0,children:[e.jsx(l,{children:i("Experimental QUIC protocol")}),e.jsx(l,{children:i("Enable experimental QUIC")})]}),e.jsx(ie,{children:e.jsx(V,{style:{width:200},options:he.map(m=>({...m,label:i(m.label)})),onChange:m=>t("experiment",m),value:s.experiment})})]})]})}const ne=20,Ze=new RegExp("^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$");function es({valueChange:t,profileData:s}){const{Text:i}=M,{t:r}=k(),[l]=d.useForm(),m=q(),h=(n,u)=>{const a={...s.computerName,[n]:u};t("computerName",a),l.setFieldValue("computerName",a.value)},c=(n,u)=>{const a={...s.macAddress,[n]:u};t("macAddress",a),l.setFieldValue("macAddress",a.value)},j=async n=>{let u="";switch(n){case"macAddress":u=ge(),c("value",u);break;case"computerName":u="DESKTOP-"+await O("person","firstName"),h("value",u.toString().toUpperCase());break}};return C.useEffect(()=>{async function n(){const u=await l.validateFields().catch(a=>{console.log(a),m(X(!0))});u&&(console.log({formData:u}),m(X(!1)))}n()},[s.computerName.value,s.macAddress.value]),C.useEffect(()=>{s.customLaunchBrowserParameters&&l.setFieldValue("customLaunchBrowserParameters",s.customLaunchBrowserParameters)},[s.customLaunchBrowserParameters]),e.jsxs(d,{form:l,initialValues:{computerName:s.computerName.value,macAddress:s.macAddress.value},children:[e.jsx(b,{children:e.jsx(T,{bold:!0,label:r("Computer name"),checked:s.computerName.isEnabled,onChange:n=>h("isEnabled",n)})}),e.jsx(b,{children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(d.Item,{style:{width:"100%"},name:"computerName",rules:[{max:ne,message:`Computer name must be less than ${ne} characters`}],children:e.jsx(S,{disabled:!s.computerName.isEnabled,onChange:n=>h("value",n.target.value.trim())})}),e.jsx(y,{type:"primary",isDisabled:!s.macAddress.isEnabled,onClick:()=>j("computerName"),solid:!0,label:r("Random")})]})}),e.jsx(b,{children:e.jsx(T,{bold:!0,label:r("MAC address"),checked:s.macAddress.isEnabled,onChange:n=>c("isEnabled",n)})}),e.jsx(b,{children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(d.Item,{style:{width:"100%"},name:"macAddress",rules:[{pattern:Ze,message:"Invalid Mac address!"}],children:e.jsx(S,{disabled:!s.macAddress.isEnabled,onChange:n=>c("value",n.target.value.trim())})}),e.jsx(y,{type:"primary",isDisabled:!s.macAddress.isEnabled,onClick:()=>j("macAddress"),solid:!0,label:r("Random")})]})}),e.jsxs(b,{children:[e.jsx("div",{style:{paddingBottom:".5rem"},children:e.jsx(i,{strong:!0,children:r("Effective Type:")})}),e.jsx(ie,{children:e.jsx(V,{style:{width:"100%"},options:je.map(n=>({...n,label:r(n.label)})),value:s.effectiveType,onChange:n=>t("effectiveType",n)})})]}),e.jsx(b,{children:e.jsxs(w,{children:[e.jsx(p,{span:6,children:e.jsx(T,{bold:!0,label:r("Bluetooth"),checked:s.hidemiumBluetooth,onChange:n=>t("hidemiumBluetooth",n)})}),e.jsx(p,{span:6,children:e.jsx(T,{bold:!0,label:r("Do not track"),checked:s.doNotTrack,onChange:n=>t("doNotTrack",n)})})]})}),e.jsxs(b,{children:[e.jsx("div",{style:{paddingBottom:".5rem"},children:e.jsx(i,{strong:!0,children:r("Custom launch browser parameters")})}),e.jsx(d.Item,{name:"customLaunchBrowserParameters",children:e.jsx(S,{onChange:n=>t("customLaunchBrowserParameters",n.target.value.trim())})})]})]})}function ss(){const t=q(),s=_(r=>r.newProfile),i=C.useCallback((r,l)=>{t(A({key:r,value:l}))},[]);return e.jsxs(e.Fragment,{children:[e.jsx(es,{valueChange:i,profileData:s}),e.jsx(Je,{valueChange:i,profileData:s}),e.jsx(Xe,{valueChange:i,profileData:s})]})}function rn({active:t}){const{t:s}=k(),i=[{key:"general",label:s("General"),children:e.jsx(ss,{})},{key:"sslSettings",label:s("SSL Settings"),children:e.jsx(Oe,{})},{key:"pluginFingerprint",label:s("Plugin Fingerprint"),children:e.jsx(Be,{})}];return e.jsx("div",{style:{padding:"20px 24px",marginTop:"16px"},children:e.jsx(Fe,{defaultActiveKey:"general",items:i})})}export{rn as default};
