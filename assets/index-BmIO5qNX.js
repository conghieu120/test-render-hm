import{i as d,r as p,q as j,j as g,k as e,l as v,w as y}from"./index-rD5D3wIe.js";import{u as N}from"./useQuery-DGelT77v.js";import{B as n}from"./index-Cnfr_LhE.js";import{Q as c}from"./queryKey.const-4yptRpGc.js";import{u}from"./theme-CwYL3eQV.js";import{u as b}from"./useTranslation-CdVDZguR.js";import{F as i}from"./index-D0qsI2Ko.js";import{S as m}from"./index-DeZc1mMx.js";import{I as S}from"./index-R7zUTNyO.js";import"./__commonjsHelpers__-BosuxZz1.js";import"./utils-Dji2qSVF.js";import"./collapse-C1MjllT7.js";import"./row-D9yJnvb0.js";import"./responsiveObserver-CoLEQsUO.js";import"./index-BUNugdcr.js";import"./index-VaFpLiuL.js";import"./TextArea-D8GM8mUo.js";import"./EyeOutlined-D2K23cwb.js";import"./SearchOutlined-DPpNmpde.js";const k=async()=>{const{data:t}=await d.get("user-settings");return t},w=async t=>{const{data:s}=await d.post("user-settings",t);return s},C=()=>{const t=u(),{t:s}=b(),{message:x}=j.useApp(),[a]=i.useForm(),h=g(),{data:r}=N({queryFn:()=>k(),queryKey:c.appSetting,refetchOnMount:!0});p.useEffect(()=>{r&&a.setFieldsValue(r)},[r]);const o=async()=>{const l=await window.api.selectProfileTemp(a.getFieldValue("profileTemp"));a.setFieldValue("profileTemp",l||"")},f=async l=>{await w(l),await h.invalidateQueries(c.appSetting),x.success("Settings saved successfully")};return e.jsx(v,{theme:{token:{colorPrimary:"#2263B3"}},children:e.jsx("div",{style:{backgroundColor:t.backgroundNormal},className:"h-full w-full",children:e.jsx("div",{className:"h-full pb-[26px] pl-2 pr-[30px]",children:e.jsx("div",{className:"mt-4 font-semibold text-[15px]",children:e.jsxs(i,{layout:"vertical",form:a,size:"large",style:{maxWidth:"660px"},onFinish:f,children:[e.jsxs("div",{className:"flex gap-x-10",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{children:s("Schedule automation running")}),e.jsx(i.Item,{name:"automationRunning",valuePropName:"checked",children:e.jsx(m,{})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{children:s("Clear cache")}),e.jsx(i.Item,{name:"clearCache",valuePropName:"checked",children:e.jsx(m,{})})]})]}),e.jsx("div",{className:"mt-4 mb-3",children:e.jsx("div",{className:"font-semibold text-[15px]",children:s("Profiles temp path")})}),e.jsxs("div",{className:"flex gap-x-3",children:[e.jsx(i.Item,{name:"profileTemp",rules:[{required:!0,message:s("This field is required")}],className:"w-full mb-0",children:e.jsx(S,{disabled:!0,onClick:o})}),e.jsx(n,{type:"primary",label:s("Change folder"),onClick:o,className:"h-[35.5px]"})]}),e.jsx("div",{className:"mt-10",children:e.jsx(n,{type:"primary",onClick:a.submit,label:s("Save")})})]})})})})})},T=p.memo(C),J=()=>{const t=u();return y.useToken(),e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"rounded-tl-md h-full overflow-y-hidden flex flex-col relative pb-1",style:{backgroundColor:t.backgroundNormal,flex:1},children:e.jsx(T,{})})})};export{J as default};
