import{q as D,v as z,p as L,n as I,w as O,r as l,a1 as q,s as $,k as e,a2 as ie,a3 as H,N as V,a4 as T,P as R,a5 as ae,a6 as B,G as le}from"./index-CJvg638n.js";import{u as M}from"./useMutation-DtMNI5dJ.js";import{l as oe,r as ce}from"./auth-8cqRmsX-.js";import{s as n,S as me}from"./index-CuxsWerf.js";import{L as de,T as ue}from"./ThemeColor-C3a0Uv2M.js";import{u as G}from"./theme-D5S-1fEx.js";import{u as P}from"./useTranslation-DN-CYzVf.js";import{F as u}from"./index-YCIRg4HO.js";import{I as j}from"./index-4M1x7pR3.js";import{D as he}from"./DownOutlined-BgG6dx4I.js";import{C as pe}from"./index-DwCW4jpE.js";import{T as Q}from"./index-w6IqrXlL.js";import"./__commonjsHelpers__-BosuxZz1.js";import"./utils-Dji2qSVF.js";import"./index.esm-mlJjdzQr.js";import"./index.esm-DoK_4CPo.js";import"./index.esm-LNwInclH.js";import"./index.esm-D2nVYnOi.js";import"./collapse-C1MjllT7.js";import"./row-C7cWNtLw.js";import"./responsiveObserver-BQm3ddGk.js";import"./index-BtoCM6cC.js";import"./index-DC1DAWbZ.js";import"./TextArea-DBRPcsh0.js";import"./EyeOutlined-B-Yk7nA6.js";import"./SearchOutlined-Bmw6m_pM.js";import"./index-Db4idn_r.js";import"./index-D8gngLx0.js";import"./CheckOutlined-CxiWyKpb.js";function xe(){const d=s=>{s.preventDefault(),g("/forgot-password")},{t:r}=P(),{message:o}=D.useApp(),p=z(),g=L(),{theme:b}=I(s=>s.display),{token:{textBlack:_}}=O.useToken(),[w,y]=l.useState(!1),[k,v]=l.useState(""),[m,N]=l.useState(q("rememberAuth")),[x,c]=l.useState(!1),[i,h]=l.useState(!1),E=l.useRef(null),f=l.useRef(null),F=l.useRef(null),C=l.useRef(null),[W]=u.useForm();l.useEffect(()=>{let s=t=>{var a;(a=F.current)!=null&&a.contains(t.target)||y(!1)};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[w]);const{mutate:U,isLoading:J}=M(oe,{onError:s=>{const t=s.response.data;t.type==="error"&&(t.title&&t.content!=""?o.error(t.content):t.title&&t.content&&t.content.length>0?t.content.forEach(a=>{o.error(a)}):t.title&&t.content&&t.content.length==0&&o.error(t.title))},onSuccess:({data:s})=>{var S;const t=s.content;t.need_confirmation?(p(T({actions:t.action,uuid:t.uuid})),g(R.verify_mail,{state:{modal2fa:t,resendOtpNow:!0}})):t.twofa?t.twofa===2?(p(T({actions:t.action,uuid:t.uuid})),g(R.verify_mail,{state:{modal2fa:t,resendOtpNow:!1,twofa:!0}})):(p(T({actions:t.action,uuid:t.uuid})),o.success(s.title),g(R.verify_twofa,{state:t})):(o.success("Login successfully!"),p(ae(s.content)),g("/profiles"));const a=(S=f.current)==null?void 0:S.getFieldsValue();Y(a)}}),K=async()=>{var s,t;try{const a=await((s=f.current)==null?void 0:s.validateFields()),S=(t=C==null?void 0:C.current)==null?void 0:t.getValue();if(!S&&H)return o.error("Invalid captcha!"),!1;if(a){let ne={...a,recaptcha:S};U(ne)}}catch(a){console.error("Error get value form fields",a)}},Y=s=>{const t=q("rememberAuth");if(t)s.remember==!0?(t[s.email]=s,$("rememberAuth",t)):(t[s.email]={email:s.email,password:"",remember:s.remember},$("rememberAuth",t));else{let a;s.remember===!0?(a={[s.email]:s},$("rememberAuth",a)):(a={[s.email]:{email:s.email,password:"",remember:s.remember}},$("rememberAuth",a))}},X=s=>{c(!1),h(!1),Object.keys(m).map(t=>{if(s.target.textContent==t){const a={email:m[t].email,password:m[t].password,remember:m[t].remember};v(m[t].email),W.setFieldsValue(a),y(!1),m[t].remember&&c(!0)}})},Z=s=>{N(t=>{const a=Object.assign({},t);return delete a[s],a})};l.useEffect(()=>{q("rememberAuth")&&$("rememberAuth",m)},[m]);const[A,ee]=l.useState(30),te=()=>{let t=30;return window.innerWidth>1800&&(t=40),t};l.useEffect(()=>{const s=()=>{ee(te())};return s(),window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}},[]);const se={width:"100%",height:"100%","--height-input":`${A}px`},re=G();return e.jsxs("div",{className:"w-full h-full p-2 flex flex-col",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-[#0369FF] font-semibold text-[42px] leading-[63px]",children:r("Sign in")}),e.jsx("div",{style:{color:re.textNormal},className:"font-semibold text-[16px] leading-[24px]",children:r("Sign in if you already have an account.")})]}),e.jsxs(u,{ref:f,form:W,style:se,onFinish:K,layout:"vertical",autoComplete:"off",children:[e.jsx(u.Item,{className:"font-semibold "+n["required-label"]+" "+n["custom-label"]+" "+n["custom-input-ant"],label:e.jsx("span",{children:r("Email")}),name:"email",rules:[{type:"email",message:`${r("The input is not valid E-mail")}`},{required:!0,message:`${r("This field is required")}`}],children:e.jsxs("span",{className:"flex items-center relative",children:[e.jsx(j,{placeholder:r("Enter your email address"),value:k,onChange:s=>v(s.target.value)}),m&&Object.keys(m).length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute right-3",children:e.jsx("a",{className:`${b==="light"?"text-[#8C8C8C]":"text-[#7E7E7E]"} ${b==="light"?"hover:text-[#000000]":"hover:text-[#FFFFFF]"} text-[12px]`,onClick:()=>y(!w),children:e.jsx(he,{})})})," ",w&&e.jsx("div",{ref:F,className:`absolute ${A===30?"top-[2.3rem]":"top-[3rem]"} w-full max-h-[160px] overflow-hidden z-10 ${b==="light"?"bg-[#ffffff]":"bg-[#1f1f1f]"} text-[14px] shadow-[0px_4px_4px_0px_#00000040] rounded-md`,children:e.jsx("div",{className:"overflow-auto max-h-[160px]",children:e.jsx("ul",{className:"list-none px-0",children:Object.keys(m).map((s,t)=>e.jsxs("li",{className:`cursor-pointer font-normal hover:text-[${_}] hover:bg-blue-50 p-[0.5rem_0.75rem_0.5rem_0.5rem] flex justify-between items-center`,children:[e.jsx("span",{onClick:a=>X(a),className:"w-full",children:s}),e.jsx("span",{className:"text-[12px] text-blue-800 hover:text-black",onClick:()=>Z(s),children:e.jsx(ie,{})})]},t))})})})]})]})}),e.jsx(u.Item,{className:`
          font-semibold ${n["required-label"]}  ${n["custom-label"]} ${n["custom-input-ant"]} ${x?`${n["custom-input-suffix"]}`:""}`,label:e.jsx("span",{children:r("Password")}),name:"password",rules:[{required:!0,message:`${r("This field is required")}`}],children:e.jsx(j.Password,{onChange:s=>{(s.target.value===null||s.target.value===void 0||s.target.value==="")&&c(!1)},visibilityToggle:{visible:i,onVisibleChange:h},ref:E,placeholder:r("Enter your password")})}),e.jsx(u.Item,{name:"remember",className:"mb-2",valuePropName:"checked",children:e.jsx(pe,{style:{fontSize:"12px",fontWeight:"500",color:"#6D6D6D"},children:r("Remember password")})}),H,e.jsx(u.Item,{children:e.jsx(V,{loading:J,className:"bg-[#74C0FC] text-[#183153] shadow-[0_0.1rem_0_#146EBE] border-[#146EBE] border hover:!bg-[#146EBE] rounded-[5px] font-medium",type:"primary",htmlType:"submit",style:{width:"100%"},children:r("Login")})}),e.jsx("div",{className:"flex justify-end w-full pb-5  mt-[-15px]",children:e.jsx("div",{className:"text-[#2263B3] text-[14px] font-medium cursor-pointer",onClick:d,children:r("Forgot your password?")})})]})]})}function fe(){const[d]=u.useForm(),{t:r}=P(),{message:o}=D.useApp(),p=z(),g=L(),b=l.useRef(null),_=l.useRef(null),{mutate:w,isLoading:y}=M(ce,{onError:c=>{const i=c.response.data;i.type==="error"&&(i.title&&i.content?o.error(i.content):i.title&&i.content&&i.content.length>0?i.content.forEach(h=>{o.error(h)}):i.title&&i.content&&i.content.length==0&&o.error(i.title))},onSuccess:({data:c})=>{o.success("Register successfully!");const i=c.content;p(T({actions:i.action,uuid:i.uuid})),g(R.verify_mail,{state:{modal2fa:i,resendOtpNow:!0}})}}),k=async()=>{var c,i;try{const h=await((c=_.current)==null?void 0:c.validateFields()),E=(i=b==null?void 0:b.current)==null?void 0:i.getValue();if(!E&&B)return o.error("Invalid captcha!"),!1;if(h){let f={...h,recaptcha:E};w(f)}}catch(h){console.error("Error get value form fields",h)}},[v,m]=l.useState(30),N=()=>{let i=30;return window.innerWidth>1800&&(i=40),i};l.useEffect(()=>{const c=()=>{m(N())};return c(),window.addEventListener("resize",c),()=>{window.removeEventListener("resize",c)}},[]);const x={width:"100%",height:"100%","--height-input":`${v}px`};return e.jsxs("div",{className:"w-full h-full",children:[e.jsx("h3",{className:"text-[#0369FF] font-semibold text-[42px] leading-[63px]",children:r("Register")}),e.jsxs(u,{ref:_,style:x,onFinish:k,layout:"vertical",autoComplete:"off",form:d,initialValues:{prefix:"84"},children:[e.jsx(u.Item,{className:"font-semibold "+n["required-label"]+" "+n["custom-label"]+" "+n["custom-input-ant"],label:e.jsx("span",{children:r("Name")}),name:"name",rules:[{required:!0,message:`${r("This field is required")}`}],children:e.jsx(j,{placeholder:r("Enter your name")})}),e.jsx(u.Item,{className:"font-semibold "+n["required-label"]+" "+n["custom-label"]+" "+n["custom-input-ant"],label:e.jsx("span",{children:r("Email")}),name:"email",rules:[{type:"email",message:`${r("The input is not valid E-mail")}`},{required:!0,message:`${r("This field is required")}`}],children:e.jsx(j,{placeholder:r("Enter your email address")})}),e.jsx(u.Item,{className:"font-semibold "+n["required-label"]+" "+n["custom-label"]+" "+n["custom-input-ant"],label:e.jsx("span",{children:r("Contact support")}),name:"contact",rules:[{required:!0,message:"Please input your contact!"}],children:e.jsx(j,{placeholder:r("Enter gmail, phone number, facebook, telegram,...")})}),e.jsx(u.Item,{className:"font-semibold "+n["required-label"]+" "+n["custom-label"]+" "+n["custom-input-ant"],label:e.jsx("span",{children:r("Password")}),name:"password",rules:[{required:!0,message:`${r("This field is required")}`},{min:6,message:`${r("Password must be minimum 6 characters")}`}],children:e.jsx(j.Password,{placeholder:r("Enter your password")})}),e.jsx(u.Item,{className:"font-semibold "+n["required-label"]+" "+n["custom-label"]+" "+n["custom-input-ant"],label:e.jsx("span",{children:r("Confirm Password")}),name:"password_confirmation",dependencies:["password"],rules:[{required:!0,message:`${r("This field is required")}`},({getFieldValue:c})=>({validator(i,h){if(!h||c("password")===h)return Promise.resolve();const E=r("The new password that you entered do not match");return Promise.reject(new Error(`${E}!`))}})],children:e.jsx(j.Password,{placeholder:r("Enter your password")})}),e.jsx(u.Item,{className:"font-semibold "+n["required-label"]+" "+n["custom-label"]+" "+n["custom-input-ant"],label:e.jsx("span",{children:r("Referral code (Optional)")}),name:"referral",children:e.jsx(j,{placeholder:r("Enter referral code")})}),B,e.jsx(u.Item,{children:e.jsx(V,{className:"bg-[#74C0FC] text-[#183153] shadow-[0_0.1rem_0_#146EBE] border-[#146EBE] border hover:!bg-[#146EBE] rounded-[5px] font-medium",loading:y,type:"primary",htmlType:"submit",style:{width:"100%"},children:r("Register")})})]})]})}const ge="/assets/bannerLogin-ozNYDViW.png",be=window.api.RESOURCES_PATH,ve=window.api.CUSTOMER,je=()=>e.jsx("img",{style:{width:"42px",height:"33px"},src:`${be}/icon.png`}),we=()=>e.jsx("p",{className:"font-bold text-orange-500 text-xl",children:"TQ group"});function ye(){return I(d=>d.display),e.jsx("div",{className:"p-[40px_0px_40px_40px]",children:e.jsxs("div",{className:"h-[calc(100vh-80px)] min-h-[700px] bg-[url('/src/assets/images/banner/234234_24.jpg')] bg-cover relative bg-no-repeat rounded-[28px]",children:[e.jsx("div",{className:"h-[15%] flex justify-center pt-[3rem]",children:ve==="TQ"?e.jsx("div",{className:"ml-[2rem] mt-[1rem] mb-[1rem]",children:e.jsxs("div",{className:"flex",children:[e.jsx(je,{}),e.jsx(we,{})]})}):e.jsx(de,{})}),e.jsx("div",{className:"h-[60%] flex justify-center",children:e.jsx("div",{className:"flex justify-center relative",children:e.jsx("img",{src:ge,alt:""})})}),e.jsxs("div",{className:"h-[15%] pt-[25px]",children:[e.jsx("div",{className:"font-[Poppins, sans-serif] text-[#FFFFFF] font-semibold text-[32px] leaning-[48px] text-center",children:"“ Market Script ”"}),e.jsx("div",{className:"w-full flex justify-center",children:e.jsx("div",{className:"max-w-[300px] text-[#FFFFFF] font-semibold text-[15px] leaning-[48px] text-center font-[Poppins, sans-serif]",children:"Thousands of cross-platform scripts are available on our app market."})})]})]})})}const Ne="/assets/background-qWdJmVyK.jpg",Ee="/assets/background-dark-3Gg7xMy-.jpg",_e=()=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"pointer-events-none",children:[e.jsx("div",{className:`${n.square}`,style:{"--i":1}}),e.jsx("div",{className:`${n.square}`,style:{"--i":2}}),e.jsx("div",{className:`${n.square}`,style:{"--i":3}}),e.jsx("div",{className:`${n.square}`,style:{"--i":4}})]})});function rt(){const{theme:d}=I(x=>x.display),{pathname:r}=le(),o=G(),[p,g]=l.useState(400),[b,_]=l.useState(780),w=l.useRef(null),{token:{colorBgLayout:y}}=O.useToken(),[k,v]=l.useState({}),m=()=>{let f=400,F=780;if(window.innerWidth>1800&&(f+=100,F=940),window.innerWidth>2e3){let C=Math.floor((window.innerWidth-1800)/550);f+=C*100,F=f+400}return{_w:f,_h:F}};l.useEffect(()=>{const x=()=>{g(m()._w),_(m()._h)};return x(),window.addEventListener("resize",x),()=>{window.removeEventListener("resize",x)}},[]);const N=()=>{window.innerWidth<1280&&d==="light"?v({backgroundImage:`url('${Ne}')`,backgroundRepeat:"no-repeat",height:"100vh"}):window.innerWidth<1280&&d==="dark"?v({backgroundImage:`url('${Ee}')`,backgroundRepeat:"no-repeat",height:"100vh"}):v({backgroundColor:o.backgroundNormal})};return l.useEffect(()=>(N(),window.addEventListener("resize",N),()=>{window.removeEventListener("resize",N)}),[d]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:k,className:"w-[100vw] h-[100vh] m-[0]-auto grid grid-cols-[1fr] bg-no-repeat xl:grid-cols-[2fr_1fr] overflow-auto",children:[e.jsx("div",{className:"z-[10] relative w-full h-full max-h-[100vh] hidden xl:block",children:e.jsx("div",{className:"h-full w-full",children:e.jsx(ye,{})})}),e.jsxs("div",{className:"relative flex flex-col justify-center items-center py-[1rem]",children:[e.jsx("div",{className:"block xl:hidden",children:e.jsx(_e,{})}),e.jsxs("div",{ref:w,style:{width:`${p}px`,minHeight:`${b}px`,backgroundColor:y},className:"relative z-[2] overflow-hidden flex flex-col rounded-[10px] shadow-[0px_2.72px_12.69px_0px_#00000008,0px_7.25px_29px_0px_#00000012,0px_27.18px_76.11px_0px_#00000014,0px_5.16px_5.16px_0px_#00000040]",children:[e.jsx("div",{className:`${n["form-login"]} ${r==="/sign-in"||r==="/"?`${n["form-login-active"]}`:""}`,children:(r==="/sign-in"||r==="/")&&e.jsx(Fe,{})}),e.jsx("div",{className:`${n["form-register"]} ${r==="/register"?`${n["form-register-active"]}`:""}`,children:r==="/register"&&e.jsx(ke,{})})]})]})]}),e.jsx(me,{}),e.jsx(ue,{})]})}const Fe=()=>{const{t:d}=P(),r=L(),o=p=>{p.preventDefault(),r("/register")};return e.jsxs("div",{className:"relative flex translate-y-[50%] flex-col justify-center items-center p-[0_2rem_0_2rem]",children:[e.jsx(xe,{}),e.jsx("div",{className:"flex flex-col justify-center items-center transform -translate-y-[1rem] mt-2",children:e.jsxs("span",{className:"font-medium text-[14px] leading-[13.62px] text-[#000000]",children:[e.jsx(Q,{label:d("Don't have an account ?")+" ",size:"14px"}),e.jsx("a",{className:"text-[#2263B3] hover:text-[#2263B3] hover:underline",href:"register",onClick:o,children:d("Register")})]})})]})},ke=()=>{const{t:d}=P(),r=L(),o=p=>{p.preventDefault(),r("/sign-in")};return e.jsxs("div",{className:"flex flex-col translate-y-[10%] justify-center items-center p-[0rem_2rem_0_2rem]",children:[e.jsx(fe,{}),e.jsx("div",{className:"flex flex-row justify-center items-center transform -translate-y-[1rem] mt-2",children:e.jsxs("span",{className:"font-medium leading-[13.62px] text-[#000000]",children:[e.jsx(Q,{label:d("Already have an account ?")+" ",size:"14px"}),e.jsx("a",{className:"text-[#2263B3] hover:text-[#2263B3] hover:underline",href:"sign-in",onClick:o,children:d("Login")})]})})]})};export{rt as default};
