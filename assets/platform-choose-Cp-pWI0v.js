import{v as G,aE as I,r as y,k as o,ab as x,at as L,gz as M}from"./index-CJvg638n.js";import{P as K}from"./defaultConfigConst-C44UyMcL.js";import{b as j,c as Q,e as _,d as g}from"./style-DB2luWnx.js";import{u as F}from"./useQuery-DJ-tefVM.js";import{g as z}from"./userSettingService-DL6083Yl.js";import{Q as S}from"./queryKey.const-4yptRpGc.js";import{g as H}from"./fontService-BKi657AH.js";import{G as N}from"./index-DTShw6cl.js";import{u as U}from"./theme-D5S-1fEx.js";import{u as W}from"./useTranslation-DN-CYzVf.js";import{F as l}from"./index-YCIRg4HO.js";import{S as B}from"./index-Wc0f9ZXJ.js";import{T as C}from"./index-D8gngLx0.js";import"./__commonjsHelpers__-BosuxZz1.js";import"./index.es-Jn8024kz.js";import"./styled-components.browser.esm-BGP0i3rt.js";import"./utils-Dji2qSVF.js";import"./index-DlIx43FQ.js";import"./index-Bsl0EBBv.js";import"./index.esm-mlJjdzQr.js";import"./index.esm-DsEolv7O.js";import"./index-DRCSt6Z6.js";import"./index-Db4idn_r.js";import"./index-4M1x7pR3.js";import"./TextArea-DBRPcsh0.js";import"./index-DC1DAWbZ.js";import"./EyeOutlined-B-Yk7nA6.js";import"./SearchOutlined-Bmw6m_pM.js";import"./index-U2dNFli3.js";import"./index-BtoCM6cC.js";import"./index-DT3Q6M_m.js";import"./index.esm-BiGZCgFT.js";import"./index-BEWo-Eeh.js";import"./index-Cn7Yo5Hv.js";import"./PurePanel-BiIzqeBG.js";import"./index-C_VhfCxN.js";import"./index.esm-BKVPp4gk.js";import"./row-C7cWNtLw.js";import"./responsiveObserver-BQm3ddGk.js";import"./index-DXD2j7QG.js";import"./index-CWlqhW57.js";import"./gapSize-U1swVQyS.js";import"./folderService-DM9UnFow.js";import"./statusService-Dq7uenJQ.js";import"./index-BDCr05r-.js";import"./collapse-C1MjllT7.js";import"./Overflow-eyj8oHJy.js";import"./CheckOutlined-CxiWyKpb.js";import"./DownOutlined-BgG6dx4I.js";function No({valueChange:n}){const{t:m}=W(),{Text:a}=C,P=G(),[c]=l.useForm(),e=I(t=>t.newProfile);U();const{data:s}=F({queryFn:()=>z(),queryKey:[S.userSetting]}),{data:V}=F({queryFn:()=>H(),queryKey:[S.getAllFonts]}),i=s==null?void 0:s.os,w=s==null?void 0:s.webgl_params,u=s==null?void 0:s.screen,r=l.useWatch("os",c),O=y.useMemo(()=>!r||!i?[]:i[r].versions||[],[s,r]),T=async t=>{const h={os:t},p=Object.keys(i==null?void 0:i[t].browsers),R=p.find(d=>d===e.browser);let v=e.browser;R||(v=x.sample(p)||"chrome"),P(L({argsFingerPrint:h,fonts:V,osbVersion:i}));const f={browser:v,os:t};if(w){const d=w[t],b=x.sample(Object.keys(d))||"";f.webGLVendor=b;const k=d[b],q=x.sample(k);f.webGLMetadataRenderer=q}M({valueChange:n,newStates:f}),c.setFieldValue("os",t)},D=y.useMemo(()=>r?i&&i[r].devices:void 0,[r]),E=t=>{const h=t.toLowerCase();if(r=="ios"){const p=(u==null?void 0:u.ios[h])||"";n("resolution",p)}n("device",t)};return y.useEffect(()=>{const t={os:e.os,osVersion:e.osVersion,device:e.device};c.setFieldsValue(t)},[e]),o.jsxs(l,{form:c,children:[o.jsxs(j,{children:[o.jsx("div",{style:{paddingBottom:".5rem"},children:o.jsx(a,{strong:!0,children:m("Platform")})}),o.jsx(Q,{children:o.jsx(l.Item,{name:"os",children:o.jsx(N,{onClick:T,options:K})})}),o.jsx(_,{children:o.jsx(a,{style:{color:"#183153"},children:m("Please note: It is not recommended to choose a platform that does not match your original platform.")})})]}),o.jsxs(j,{children:[o.jsx("div",{style:{paddingBottom:".5rem"},children:o.jsx(a,{strong:!0,children:m("Platform Version")})}),o.jsx(g,{children:o.jsx(B,{style:{width:"100%"},options:O||[],onChange:t=>n("osVersion",t),value:e.osVersion})})]}),(r==="android"||r==="ios")&&o.jsxs(j,{children:[o.jsx("div",{style:{paddingBottom:".5rem"},children:o.jsx(a,{strong:!0,children:m("Device")})}),o.jsx(g,{children:o.jsx(B,{style:{width:"100%"},options:D||[],onChange:t=>E(t),value:e.device})})]})]})}export{No as default};
