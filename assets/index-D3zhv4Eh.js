import{i as d,r as u,q as j,j as g,k as e,l as v,w as y}from"./index-CJvg638n.js";import{u as b}from"./useQuery-DJ-tefVM.js";import{B as n}from"./index-BAIjI0rE.js";import{Q as c}from"./queryKey.const-4yptRpGc.js";import{u as p}from"./theme-D5S-1fEx.js";import{u as N}from"./useTranslation-DN-CYzVf.js";import{F as r}from"./index-YCIRg4HO.js";import{S as m}from"./index-Bsl0EBBv.js";import{I as S}from"./index-4M1x7pR3.js";import"./__commonjsHelpers__-BosuxZz1.js";import"./utils-Dji2qSVF.js";import"./collapse-C1MjllT7.js";import"./row-C7cWNtLw.js";import"./responsiveObserver-BQm3ddGk.js";import"./index-BtoCM6cC.js";import"./index-DC1DAWbZ.js";import"./TextArea-DBRPcsh0.js";import"./EyeOutlined-B-Yk7nA6.js";import"./SearchOutlined-Bmw6m_pM.js";const w=async()=>{const{data:t}=await d.get("user-settings");return t},k=async t=>{const{data:s}=await d.post("user-settings",t);return s},C=()=>{const t=p(),{t:s}=N(),{message:x}=j.useApp(),[i]=r.useForm(),h=g(),{data:a}=b({queryFn:()=>w(),queryKey:c.appSetting,refetchOnMount:!0});u.useEffect(()=>{a&&i.setFieldsValue(a)},[a]);const o=async()=>{const l=await window.api.selectProfileTemp(i.getFieldValue("profileTemp"));i.setFieldValue("profileTemp",l||"")},f=async l=>{await k(l),await h.invalidateQueries(c.appSetting),x.success("Settings saved successfully")};return e.jsx(v,{theme:{token:{colorPrimary:"#2263B3"}},children:e.jsx("div",{style:{backgroundColor:t.backgroundNormal},className:"h-full w-full",children:e.jsx("div",{className:"h-full pb-[26px] pl-2 pr-[30px]",children:e.jsx("div",{className:"mt-4 font-semibold text-[15px]",children:e.jsxs(r,{layout:"vertical",form:i,size:"large",style:{maxWidth:"660px"},onFinish:f,children:[e.jsxs("div",{className:"flex gap-x-10",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{children:s("Schedule automation running")}),e.jsx(r.Item,{name:"automationRunning",valuePropName:"checked",children:e.jsx(m,{})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{children:s("Clear cache")}),e.jsx(r.Item,{name:"clearCache",valuePropName:"checked",children:e.jsx(m,{})})]})]}),e.jsx("div",{className:"mt-4 mb-3",children:e.jsx("div",{className:"font-semibold text-[15px]",children:s("Profiles temp path")})}),e.jsxs("div",{className:"flex",children:[e.jsx(r.Item,{name:"profileTemp",rules:[{required:!0,message:s("This field is required")}],className:"w-full mb-0",children:e.jsx(S,{disabled:!0,onClick:o})}),e.jsx(n,{solid:!0,typebutton:"primary",label:s("Change folder"),classStyle:"ms-2 items-center",onClick:o})]}),e.jsx("div",{className:"mt-10",children:e.jsx(n,{typebutton:"primary",onClick:i.submit,label:s("Save"),solid:!0,classStyle:"w-fit text-[16px]"})})]})})})})})},T=u.memo(C),J=()=>{const t=p();return y.useToken(),e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"rounded-tl-md h-full overflow-y-hidden flex flex-col relative pb-1",style:{backgroundColor:t.backgroundNormal,flex:1},children:e.jsx(T,{})})})};export{J as default};
