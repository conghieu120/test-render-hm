import{w as T,aE as F,r as x,k as e,N as E,aF as C,H as L,aG as ee,p as te,j as Be,aH as ae,P as z,L as Oe,aI as V,aJ as Y,aK as J,q as Ie,aL as D,aM as G,O as U,an as $e}from"./index-CJvg638n.js";import{I as Se,a as Ae,b as Ee}from"./coinbase-commerce-button-kLEPgP0X.js";import{u as Re}from"./useMutation-DtMNI5dJ.js";import{g as Le,b as We,c as ne,a as He,p as qe,d as X,e as De,f as Ge}from"./paymentService-vo3yCK6S.js";import{f as R}from"./commonHelpers-BOkgPZYN.js";import{M as ze}from"./index-Cn7Yo5Hv.js";import{R as P,C as m}from"./row-C7cWNtLw.js";import{I as Z}from"./index-DYrGpNsa.js";import{T as Q}from"./index-D8gngLx0.js";import{Q as se}from"./queryKey.const-4yptRpGc.js";import{F as K}from"./index-YCIRg4HO.js";import{u as oe}from"./useTranslation-DN-CYzVf.js";import{S as Qe}from"./index-CWlqhW57.js";import{I as Ue}from"./index-4M1x7pR3.js";import{u as Ke}from"./useQuery-DJ-tefVM.js";import{g as Ve}from"./auth-8cqRmsX-.js";import{e as Ye}from"./index.esm-mlJjdzQr.js";import{b as Je}from"./index.esm-LNwInclH.js";import{r as Xe,S as Ze}from"./index-TvTBJWU5.js";import{u as Me}from"./theme-D5S-1fEx.js";import"./__commonjsHelpers__-BosuxZz1.js";import"./utils-Dji2qSVF.js";import"./PurePanel-BiIzqeBG.js";import"./responsiveObserver-BQm3ddGk.js";import"./EyeOutlined-B-Yk7nA6.js";import"./addEventListener-0hYE1V1V.js";import"./LeftOutlined-_e4uGCQm.js";import"./index-DC1DAWbZ.js";import"./index-BtoCM6cC.js";import"./TextArea-DBRPcsh0.js";import"./CheckOutlined-CxiWyKpb.js";import"./collapse-C1MjllT7.js";import"./gapSize-U1swVQyS.js";import"./SearchOutlined-Bmw6m_pM.js";function et({isModelOpen:p,setIsModelOpen:o}){var _,g;const{Title:n,Text:t}=Q,{token:{textPrimary:s,bgLineGray:h,colorLineGray:f,buttonPrimary:y,textWhite:k}}=T.useToken(),u=F(b=>b.payment),[r,j]=x.useState(),[a,c]=x.useState("ACB"),l=x.useRef(),[i,N]=x.useState(),v=[{key:"ACB",bank:"ACB",img:Se,isDisabled:!1}],A=b=>{c(b)},W=()=>{o(!1)},H=()=>{Le().then(b=>{var B;const $=(B=b==null?void 0:b.data)==null?void 0:B.content.find(S=>{if(S.method=="bank"&&S.name==a)return S});j($),l.current=$,q()}).catch(b=>{console.log("error handleBankSelected",b)})},q=()=>{var $;const b={plan_order_id:u.planOrder.id*C,payment_method_id:(($=l.current)==null?void 0:$.id)*C,plan_uuid:u.plan.uuid};We(b).then(B=>{N(B.data.content)}).catch(B=>{console.log("error handleBankCheckout",B)})};return x.useEffect(()=>{u.planOrder.id&&u.plan.uuid&&p==!0&&H()},[p]),e.jsxs(ze,{title:e.jsx(n,{style:{fontSize:"24px",color:s},children:"Instant bank transfer"}),open:p,onCancel:W,width:800,maskClosable:!1,footer:[e.jsx(E,{type:"primary",className:`h-[30] text-[${k}] text-[14px] bg-[${y}]`,onClick:W,children:"Close"})],children:[e.jsxs(P,{className:"mt-7",children:[e.jsx(m,{span:8,children:e.jsx("div",{className:"w-full py-5",style:{backgroundColor:h},children:e.jsx("div",{className:"w-[200px] m-auto",children:e.jsx(Z,{className:"rounded-[10px]",preview:!1,src:`https://img.vietqr.io/image/ACB-${(_=r==null?void 0:r.info)==null?void 0:_.account_number}-compact.png?amount=${i==null?void 0:i.total_price_vn}&addInfo=${i==null?void 0:i.transaction}&accountName=${(g=r==null?void 0:r.info)==null?void 0:g.branch_name}`})})})}),e.jsxs(m,{span:16,className:"px-10",children:[e.jsxs(P,{children:[e.jsx(m,{span:24,children:e.jsx(t,{className:"text-[14px] font-semibold",children:"Select a payment method"})}),e.jsx(m,{span:24,children:e.jsx("div",{className:"flex my-3",children:v.map((b,$)=>e.jsx("div",{onClick:()=>A(b.key),style:{border:a==b.key?`1px solid ${s}`:"1px solid #BFBFBF"},className:"px-7 py-1 rounded-[4px]  border-solid flex items-center mr-3",children:e.jsx(Z,{preview:!1,className:"pr-1",src:b.img,width:35})},$))})})]}),v.map((b,$)=>{var B,S;if(b.key==a)return e.jsxs(P,{children:[e.jsx(m,{span:24,children:e.jsxs("div",{style:{borderBottom:`1px dotted ${f}`},className:"py-1",children:[e.jsx(t,{className:"text-[16px] font-normal",children:"Bank : "}),e.jsx(t,{className:`font-bold text-[16px] text-[${s}]`,children:b.bank})]})}),e.jsx(m,{span:24,children:e.jsxs("div",{style:{borderBottom:`1px dotted ${f}`},className:"py-1",children:[e.jsx(t,{className:"text-[16px] font-normal",children:"Account Holder : "}),e.jsx(t,{className:`font-bold text-[16px] text-[${s}]`,children:(B=r==null?void 0:r.info)==null?void 0:B.branch_name})]})}),e.jsx(m,{span:24,children:e.jsxs("div",{style:{borderBottom:`1px dotted ${f}`},className:"py-1",children:[e.jsx(t,{className:"text-[16px] font-normal",children:"Account Number : "}),e.jsx(t,{className:`font-bold text-[16px] text-[${s}]`,children:(S=r==null?void 0:r.info)==null?void 0:S.account_number})]})}),e.jsx(m,{span:24,children:e.jsxs("div",{style:{borderBottom:`1px dotted ${f}`},className:"py-1",children:[e.jsx(t,{className:"text-[16px] font-normal",children:"Total Price : "}),e.jsxs(t,{className:`font-bold text-[16px] text-[${s}]`,children:[R({price:i==null?void 0:i.total_price_vn,maximumFractionDigits:0,style:"decimal"}),e.jsx("span",{children:" VND"})]})]})}),e.jsx(m,{span:24,children:e.jsxs("div",{style:{borderBottom:`1px dotted ${f}`},className:"py-1",children:[e.jsx(t,{className:"text-[16px] font-normal",children:"Transfer Content : "}),e.jsx(t,{className:`font-bold text-[16px] text-[${s}]`,children:i==null?void 0:i.transaction})]})})]},$)})]})]}),e.jsx(P,{children:e.jsx(m,{span:24,children:e.jsx("div",{style:{borderTop:`1px dashed ${f}`,borderBottom:`1px dashed ${f}`},className:"mt-5",children:e.jsxs("ul",{children:[e.jsx("li",{children:"Please double check if the address is correct before payment"}),e.jsx("li",{children:"Please double check if the address is correct before payment"}),e.jsx("li",{children:"Please double check if the address is correct before payment"})]})})})})]})}function tt({cardActive:p}){var j;const{token:{buttonPrimary:o,textWhite:n}}=T.useToken(),t=F(a=>a.payment),s=x.useRef(),h=L(),[f,y]=x.useState(),k=(a=t.planOrder.id*C)=>{var l;y(!0);const c={plan_uuid:t.plan.uuid,payment_method_id:((l=s.current)==null?void 0:l.id)*C,plan_order_id:a};He(c).then(i=>{var N,v;y(!1),window.api.openLinkWebBrowser((v=(N=i==null?void 0:i.data)==null?void 0:N.content)==null?void 0:v.redirect_url)}).catch(i=>{console.log("error handleCoinBaseCheckout",i)})},u=()=>{if(t.listPaymentMethod.length>0){const a=t.listPaymentMethod.find(c=>{if(c.method=="crypto")return c});s.current=a,ne(t.planOrderParams).then(c=>{var l;h(ee((l=c==null?void 0:c.data)==null?void 0:l.content))})}else console.log("error handleMethodSelected")};x.useEffect(()=>{p=="crypto"&&u()},[p,t.planOrderParams.coupon_code]);const r=()=>{k()};return e.jsx(e.Fragment,{children:((j=s.current)==null?void 0:j.id)!=null&&e.jsx(E,{style:{backgroundColor:o,color:n},onClick:r,className:"w-full border-none rounded py-1 my-7 font-bold",size:"large",loading:f,children:"Pay with Crypto"})})}const ce=x.createContext({handleCheckout:(...p)=>{},getInfoPaymentMethod:p=>{},getPingPayment:()=>{},clearPingPayment:()=>{},cardActive:"",setCardActive:p=>{}});function at({children:p}){const o=L(),n=F(c=>c.payment),[t,s]=x.useState("bank"),h=x.useRef([]),f=te(),y=Be(),k=c=>n.listPaymentMethod.length>0?n.listPaymentMethod.find(l=>l.method==c):null,u=c=>{setTimeout(()=>{X(c).then(l=>{o(V(l.data.content)),o(Y(l.data.content.total_price)),o(J(l.data.content.total_price_vn))}).catch(l=>{console.log(l)})},0)};x.useEffect(()=>{n.planOrder.id!=0&&(t=="bank"||t=="crypto"||t=="paypal")?r():j()},[n.planOrder]),x.useEffect(()=>()=>{j()},[]);const r=()=>{var c;if((c=n==null?void 0:n.planOrder)!=null&&c.id){j();const l=setInterval(()=>{var N;const i={plan_order_id:((N=n==null?void 0:n.planOrder)==null?void 0:N.id)*C};qe(i).then(v=>{clearInterval(l),o(ae()),f(z.profiles),o(Oe(!0)),y.invalidateQueries(se.userDetail,{refetchInactive:!0})})},3e3);console.log("check payment",l),h.current.push(l)}},j=()=>{console.log("clear check payment",h),h.current.forEach(c=>clearInterval(c)),h.current=[]},a={handleCheckout:u,getInfoPaymentMethod:k,getPingPayment:r,clearPingPayment:j,cardActive:t,setCardActive:s};return e.jsx(ce.Provider,{value:a,children:p})}const nt="_btn_date_18m9m_1",st="_card_18m9m_11",ot="_discount_18m9m_115",w={btn_date:nt,card:st,"active-card":"_active-card_18m9m_45","disable-card":"_disable-card_18m9m_55","disable-item":"_disable-item_18m9m_67","border-right":"_border-right_18m9m_77","card-active":"_card-active_18m9m_85","plan-selected":"_plan-selected_18m9m_99",discount:ot,"discount-item":"_discount-item_18m9m_125"};function ct({cardActive:p}){var j;const{token:{buttonPrimary:o,textWhite:n}}=T.useToken(),t=F(a=>a.payment),s=x.useRef(),h=L(),[f,y]=x.useState(),k=(a=t.planOrder.id*C)=>{var l;y(!0);const c={plan_uuid:t.plan.uuid,payment_method_id:((l=s.current)==null?void 0:l.id)*C,plan_order_id:a};De(c).then(i=>{var N,v;y(!1),console.log(i),window.api.openLinkWebBrowser((v=(N=i==null?void 0:i.data)==null?void 0:N.content)==null?void 0:v.redirect_url)}).catch(i=>{console.log("error handlePaypalCheckout",i)})},u=()=>{if(t.listPaymentMethod.length>0){const a=t.listPaymentMethod.find(c=>{if(c.method=="paypal")return c});s.current=a,ne(t.planOrderParams).then(c=>{var l;h(ee((l=c==null?void 0:c.data)==null?void 0:l.content))})}else console.log("error handleMethodSelected")};x.useEffect(()=>{p=="paypal"&&u()},[p,t.planOrderParams.coupon_code]);const r=()=>{k()};return e.jsx(e.Fragment,{children:((j=s.current)==null?void 0:j.id)!=null&&e.jsx(E,{style:{backgroundColor:o,color:n},onClick:r,className:"w-full border-none rounded py-1 my-7 font-bold",size:"large",loading:f,children:"Pay with Paypal"})})}function lt({userDetails:p}){var le,re,ie,de,pe,me,xe,he,ue,fe,ye,je,be,ke,_e,ge,Ne,Ce,Pe,ve;const{message:o}=Ie.useApp(),{Text:n}=Q,t=F(d=>d.payment),s=L(),[h,f]=x.useState(t.couponCode??""),[y,k]=x.useState(!1),u=te(),{token:{colorLineGray:r,textDanger:j,buttonPrimary:a,textWhite:c,textPrimary:l}}=T.useToken(),[i,N]=x.useState(),[v,A]=x.useState(),W=Be(),[H]=K.useForm(),{handleCheckout:q,cardActive:_}=x.useContext(ce),{t:g}=oe(),b=x.useMemo(()=>t.listPaymentMethod.find(d=>d.method==_),[_]),$=()=>{h==""?o.error("Coupon code cannot be left blank"):H.submit()},{isLoading:B,mutate:S}=Re({mutationFn:d=>{const O={profile:t.planOrderParams.profile,team_member:t.planOrderParams.team_member,interval:t.planOrderParams.interval,device:t.planOrderParams.device,coupon_code:d.couponCode,plan_uuid:t.plan.uuid,profile_local:t.planOrderParams.profile_local,payment_method_id:b.id*C};return X(O)},onSuccess:d=>{s(D(h)),s(V(d.data.content)),s(Y(d.data.content.total_price)),s(J(d.data.content.total_price_vn)),s(G(h)),o.success(d.data.title)},onError:d=>{var I,M;d.response.data.content&&d.response.data.content.length>0?o.error(d.response.data.content[0]):o.error((M=(I=d==null?void 0:d.response)==null?void 0:I.data)==null?void 0:M.title),s(D("")),s(G("")),f("");const O={profile:t.planOrderParams.profile,team_member:t.planOrderParams.team_member,interval:t.planOrderParams.interval,device:t.planOrderParams.device,coupon_code:"",plan_uuid:t.plan.uuid,profile_local:t.planOrderParams.profile_local,payment_method_id:b.id*C};q(O)}});x.useEffect(()=>{const d={profile:t.planOrderParams.profile,team_member:t.planOrderParams.team_member,interval:t.planOrderParams.interval,device:t.planOrderParams.device,coupon_code:t.couponCode,plan_uuid:t.plan.uuid,profile_local:t.planOrderParams.profile_local,payment_method_id:b.id*C};X(d).then(O=>{s(D(h)),s(V(O.data.content)),s(Y(O.data.content.total_price)),s(J(O.data.content.total_price_vn)),s(G(h))}).catch(O=>{s(D("")),s(G("")),f("");const I={profile:t.planOrderParams.profile,team_member:t.planOrderParams.team_member,interval:t.planOrderParams.interval,device:t.planOrderParams.device,coupon_code:"",plan_uuid:t.plan.uuid,profile_local:t.planOrderParams.profile_local,payment_method_id:b.id*C};q(I)})},[_]);const we=d=>{f(d.target.value)},Te=()=>{k(!0),ne(t.planOrderParams).then(d=>{switch(s(ee(d.data.content)),_){case"no bank":Fe(d.data.content);break;case"bank":k(!1),A(!0);break;default:k(!1),A(!1);break}}).catch(d=>{console.log("error handlePay",d)})},Fe=d=>{if(t.listPaymentMethod.length>0){const O=t.listPaymentMethod.find(M=>{if(M.method=="no bank")return M}),I={plan_order_id:d.id*C,payment_method_id:O.id*C};Ge(I).then(M=>{k(!1),s(ae()),u(z.profiles),s(Oe(!0)),W.invalidateQueries(se.userDetail,{refetchInactive:!0})}).catch(M=>{k(!1),o.error("Payment failed."),console.log(M)})}else o.error("Payment failed."),k(!1)};return x.useEffect(()=>{var d;((d=t.checkout)==null?void 0:d.price)>(p==null?void 0:p.balance)&&_=="no bank"?N(!0):N(!1)},[t.checkout,p==null?void 0:p.balance,_]),e.jsxs("div",{className:"pl-12",children:[e.jsxs(n,{className:"font-bold text-[20px]",children:["2.",g("Check information and payment")]}),e.jsxs(K,{onFinish:S,form:H,children:[e.jsxs(n,{className:`mt-6 mb-2.5 block text-[16px] font-semibold text-[${l}]`,children:[g("Coupon Code"),":"]}),e.jsx(K.Item,{name:"couponCode",initialValue:h,children:e.jsxs(Qe.Compact,{style:{width:"100%"},children:[e.jsx(Ue,{value:h,placeholder:g("Enter the discount code here"),onChange:we}),e.jsx(E,{style:{backgroundColor:a,color:c},className:"font-bold",loading:B,onClick:$,children:g("Add")})]})})]}),e.jsx(P,{children:e.jsxs(m,{span:24,className:"py-5",style:{borderTop:`1px dashed ${r}`,borderBottom:`1px dashed ${r}`},children:[e.jsxs(P,{children:[e.jsx(m,{xs:{span:8},children:e.jsxs(n,{className:"font-bold text-[16px]",children:[g("Discount"),":"]})}),e.jsx(m,{xs:{span:8,offset:8},children:e.jsx("div",{className:"w-full text-right",children:e.jsx(n,{className:"font-bold text-[20px]",style:{color:j},children:R({price:t.checkout.discount})})})})]}),e.jsx(P,{className:"mt-5",children:e.jsx(m,{span:24,children:e.jsxs("div",{className:`${w.discount}`,children:[e.jsx("div",{className:`${w["discount-item"]}`,style:{borderRight:`1px solid ${r}`},children:e.jsxs("div",{className:"text-left",children:[e.jsxs(n,{className:"text-[14px] mr-3",children:[g("Price"),":"]}),e.jsxs(n,{className:`text-[14px] text-[${j}]`,children:[(re=(le=t.checkout)==null?void 0:le.discount_details)!=null&&re.price?`-${(de=(ie=t.checkout)==null?void 0:ie.discount_details)==null?void 0:de.price}`:0,"%"]})]})}),e.jsx("div",{className:`${w["discount-item"]}`,style:{borderRight:`1px solid ${r}`},children:e.jsxs("div",{className:"text-center",children:[e.jsxs(n,{className:"text-[14px] mr-3",children:[g("Cash back"),":"]}),e.jsxs(n,{className:`text-[14px] text-[${j}]`,children:[(me=(pe=t.checkout)==null?void 0:pe.discount_details)!=null&&me.feedback?`${(he=(xe=t.checkout)==null?void 0:xe.discount_details)==null?void 0:he.feedback}`:0,"%"]})]})}),e.jsx("div",{className:`${w["discount-item"]}`,style:{borderRight:`1px solid ${r}`},children:e.jsxs("div",{className:"text-center",children:[e.jsxs(n,{className:"text-[14px] mr-3",children:[g("Date"),":"]}),e.jsxs(n,{className:`text-[14px] text-[${j}]`,children:[(fe=(ue=t.checkout)==null?void 0:ue.discount_details)!=null&&fe.date?`+${(je=(ye=t.checkout)==null?void 0:ye.discount_details)==null?void 0:je.date}`:0,"%"]})]})}),e.jsx("div",{className:`${w["discount-item"]}`,style:{borderRight:`1px solid ${r}`},children:e.jsxs("div",{className:"text-center",children:[e.jsxs(n,{className:"text-[14px] mr-3",children:[g("Profiles"),":"]}),e.jsxs(n,{className:`text-[14px] text-[${j}]`,children:[(ke=(be=t.checkout)==null?void 0:be.discount_details)!=null&&ke.profile?`+${(ge=(_e=t.checkout)==null?void 0:_e.discount_details)==null?void 0:ge.profile}`:0,"%"]})]})}),e.jsx("div",{className:`${w["discount-item"]}`,children:e.jsxs("div",{className:"text-right",children:[e.jsxs(n,{className:"text-[14px] mr-3",children:[g("Share"),":"]}),e.jsxs(n,{className:`text-[14px] text-[${j}]`,children:[(Ce=(Ne=t.checkout)==null?void 0:Ne.discount_details)!=null&&Ce.share?`+${(ve=(Pe=t.checkout)==null?void 0:Pe.discount_details)==null?void 0:ve.share}`:0,"%"]})]})})]})})})]})}),e.jsxs(P,{className:"mt-5",children:[e.jsx(m,{xs:{span:8},children:e.jsx("span",{className:"font-bold text-[16px]",children:g("Total")})}),e.jsx(m,{xs:{span:8,offset:8},children:e.jsx("div",{className:"w-full text-right",children:e.jsx(n,{style:{color:l},className:"font-bold text-[32px]",children:R({price:t.checkout.total_price})})})}),e.jsxs(m,{span:24,className:"text-center",children:[(_=="no bank"||_=="bank")&&e.jsx(E,{block:!0,className:`my-7 font-bold bg-[#2263B3] text-[#FFFFFF] border-[${l}] rounded`,size:"large",onClick:Te,loading:y,disabled:i,children:g("Pay now")}),_=="paypal"&&e.jsx(ct,{cardActive:_}),_=="crypto"&&e.jsx(tt,{cardActive:_})]})]}),e.jsx(et,{isModelOpen:v,setIsModelOpen:A})]})}const rt=({title:p="Are you sure?",body:o=null})=>{const n={title:U(p),text:"",iconHtml:Xe(o?o.icon??e.jsx($e,{fontSize:"45px",className:"text-[#FFC700]"}):e.jsx($e,{fontSize:"45px",className:"text-[#FFC700]"})),showCancelButton:!0,confirmButtonColor:"#2263B3",cancelButtonColor:"#EF1517",confirmButtonText:U("Yes"),cancelButtonText:U("No"),customClass:{popup:"rounded-lg !text-black",icon:"border-none mt-2 mb-0",title:"pt-0 font-bold text-[24px]",htmlContainer:"!mt-3",actions:"!mt-3",confirmButton:"btn px-7 py-2 !rounded-lg !text-[17px] !m-3",cancelButton:"btn px-7 py-2 !rounded-lg !text-[17px] !m-3"},...o};return Ze.fire({...n,background:"#333"})};function it({listCardPay:p,userDetails:o}){const n=Me(),{token:{textGray:t,textOrange:s,textWhite:h}}=T.useToken(),{Text:f}=Q,{t:y}=oe(),k=F(a=>a.payment),{cardActive:u,setCardActive:r}=x.useContext(ce),j=a=>{var c;((c=k==null?void 0:k.checkout)==null?void 0:c.discount_details)!=null&&u!=a?rt({title:"Change your payment method!",body:{text:y("The discount code may not support this payment method do you want to continue")}}).then(l=>{l.isConfirmed&&r(a)}):u!=a&&r(a)};return e.jsxs("div",{className:"pr-12",children:[e.jsxs(f,{className:"text-[20px] font-bold block",children:["1.",y("Select your subscription method")]}),e.jsx("div",{className:"mt-3.5",children:p.map((a,c)=>e.jsx("div",{style:{boxShadow:"0px 0px 4px 2px rgb(0,0,0,0.15)",borderRadius:"5px",minHeight:90,backgroundColor:u!=a.key?n.backgroundLight:""},className:`w-full cursor-pointer px-5 py-3 my-5 ${u===a.key?w["card-active"]:""}`,onClick:()=>j(a.key),children:e.jsxs(P,{children:[e.jsx(m,{span:1,children:e.jsx("div",{className:"",children:u===a.key?e.jsx(Ye,{className:"text-xl",color:h}):e.jsx(Je,{className:"text-xl",color:t})})}),e.jsx(m,{span:15,children:e.jsx(f,{className:`ml-2 text-[14px] ${u===a.key?`text-[${h}]`:""}`,children:a.key=="no bank"?y("Use your balance to make payments"):a.key=="bank"?y("Bạn có thể chuyển khoản trực tiếp qua ngân hàng ACB Bank"):a.key=="paypal"?y("Use paypal method to purchase, card payment will be support here"):a.key=="crypto"?y("You can purchase via crytor, use usdt or other coin"):""})}),e.jsx(m,{span:8,children:e.jsxs("div",{className:"text-right",children:[e.jsx(f,{className:`font-bold mt-0 mb-2 text-[16px] block ${u===a.key?`text-[${h}]`:""}`,children:a.title}),a.balance&&e.jsx(f,{className:`text-[26px] text-[${s}] font-bold`,children:R({price:(o==null?void 0:o.balance)??0,maximumFractionDigits:2})}),e.jsx("div",{children:a.listImg&&a.listImg.map((l,i)=>e.jsx(Z,{preview:!1,className:"pr-1",src:l,style:{width:35}},i))})]})})]})},c))})]})}function dt(){const{token:{colorLineGray:p}}=T.useToken(),[o,n]=x.useState(),t=[{key:"no bank",title:"Balance",balance:!0,isDisabled:!1},{key:"bank",title:"Instant Bank Transfer",listImg:[Se],isDisabled:!1},{key:"paypal",title:"Paypal",listImg:[Ae],isDisabled:!1},{key:"crypto",title:"Coin Base",listImg:[Ee],isDisabled:!1}];return Ke({queryFn:()=>Ve(),queryKey:se.userDetail,onSuccess:async s=>{n(s.data.content)},refetchOnMount:!0}),e.jsx(e.Fragment,{children:e.jsxs(P,{children:[e.jsx(m,{span:12,style:{borderRight:`2px solid ${p}`},children:e.jsx(it,{listCardPay:t,userDetails:o})}),e.jsx(m,{span:12,children:e.jsx(lt,{userDetails:o})})]})})}function zt(){const p=Me(),{Text:o}=Q,{token:{textGray:n,textPrimary:t,textBlack:s,textWhite:h}}=T.useToken(),f=te(),y=F(j=>j.payment),k=L(),{t:u}=oe(),r=()=>{f(z.payment)};return x.useEffect(()=>{y.plan.id==0&&f(z.payment)},[]),x.useEffect(()=>()=>{k(ae())},[]),e.jsx(at,{children:e.jsx("div",{className:"h-[calc(100vh-65px)] overflow-y-auto",children:y.plan.id>0&&e.jsxs(P,{className:"pr-12 pl-7",children:[e.jsxs(m,{span:24,children:[e.jsx(o,{style:{color:n},className:"text-[18px] mr-3 cursor-pointer",onClick:r,children:`< ${u("Back")}`}),e.jsx(o,{style:{color:t},className:"text-[28px] font-bold",children:u("Billing")})]}),e.jsxs(m,{span:24,children:[e.jsx(o,{style:{color:p.textNormal},className:"text-[16px]",children:`1.${u("Choose Plan")} `}),e.jsx(o,{style:{color:p.textColorBlue},className:"text-[16px] font-semibold",children:` -  2. ${u("Checkout")}`})]}),e.jsx(m,{span:24,children:e.jsx("div",{className:`w-full rounded p-7 my-9 ${w["plan-selected"]}`,children:e.jsxs(P,{children:[e.jsxs(m,{span:18,children:[e.jsx(o,{className:`text-[16px] font-bold block text-[${h}]`,children:`${u("You’ve Selected The")} :`}),e.jsx(o,{className:`text-[32px] block font-bold text-[${h}]`,children:y.plan.name??""})]}),e.jsxs(m,{span:6,className:"relative",children:[e.jsx(o,{className:`text-[16px] mr-7 text-[${h}]`,children:`${u("Total")} :`}),e.jsx(o,{className:`text-[50px] font-bold text-[${h}]`,children:R({price:y.checkout.price})})]})]})})}),e.jsx(m,{span:24,children:e.jsx(dt,{})})]})})})}export{zt as default};
